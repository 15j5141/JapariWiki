!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=99)}([function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function s(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(0),s=r(12),i=r(11),o=r(4),a=r(8),c=r(5),u=r(7),l=function(e){function t(r,n,s){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=i.a;break;case 1:if(!r){o.destination=i.a;break}if("object"==typeof r){r instanceof t?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new p(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new p(o,r,n,s)}return o}return n.a(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,r,n){var s=new t(e,r,n);return s.syncErrorThrowable=!1,s},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(o.a),p=function(e){function t(t,r,n,o){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return Object(s.a)(r)?a=r:r&&(a=r.next,n=r.error,o=r.complete,r!==i.a&&(u=Object.create(r),Object(s.a)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=n,c._complete=o,c}return n.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Object(u.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw e;Object(u.a)(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return c.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(u.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(1);var s=r(8),i=r(11);var o=r(16);function a(e){return e}function c(e){return 0===e.length?a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var u=r(5),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var o=this.operator,a=function(e,t,r){if(e){if(e instanceof n.a)return e;if(e[s.a])return e[s.a]()}return e||t||r?new n.a(e,t,r):new n.a(i.a)}(e,t,r);if(o?a.add(o.call(a,this.source)):a.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,r=t.closed,s=t.destination,i=t.isStopped;if(r||i)return!1;e=s&&s instanceof n.a?s:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=p(t))((function(t,n){var s;s=r.subscribe((function(t){try{e(t)}catch(e){n(e),s&&s.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:c(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=p(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function p(e){if(e||(e=u.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,r){"use strict";r.d(t,"c",(function(){return y})),r.d(t,"i",(function(){return w})),r.d(t,"a",(function(){return x})),r.d(t,"e",(function(){return k})),r.d(t,"b",(function(){return S})),r.d(t,"f",(function(){return E})),r.d(t,"j",(function(){return L})),r.d(t,"d",(function(){return T})),r.d(t,"h",(function(){return $})),r.d(t,"g",(function(){return q})),r.d(t,"k",(function(){return F})),r.d(t,"l",(function(){return N}));var n,s=r(0),i=r(21),o=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return s.a(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(r(23).a),a=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.a(t,e),t}(r(22).a))(o),c=r(4),u=r(1),l=r(20),p=r(25),h=r(24);n||(n={});var d=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(p.a)(this.value);case"E":return Object(h.a)(this.error);case"C":return Object(l.a)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();var f=function(e){function t(t,r,n){void 0===n&&(n=0);var s=e.call(this,t)||this;return s.scheduler=r,s.delay=n,s}return s.a(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new m(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(d.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(d.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(d.createComplete()),this.unsubscribe()},t}(u.a),m=function(){return function(e,t){this.notification=e,this.destination=t}}(),g=r(6),b=r(15),_=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var s=e.call(this)||this;return s.scheduler=n,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=t<1?1:t,s._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return s.a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new v(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,i=n.length;if(this.closed)throw new g.a;if(this.isStopped||this.hasError?t=c.a.EMPTY:(this.observers.push(e),t=new b.a(this,e)),s&&e.add(e=new f(e,s)),r)for(var o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,s=n.length,i=0;i<s&&!(e-n[i].time<r);)i++;return s>t&&(i=Math.max(i,s-t)),i>0&&n.splice(0,i),n},t}(i.a),v=function(){return function(e,t){this.time=e,this.value=t}}();class y{constructor(e){this.refObj={selectorForGetElement:null,serviceManager:null,declarations:null,element:null,...e},this.$=top.jQuery,this.selector=this.decoration.selector,this.element=this.refObj.element||this.$(this.refObj.selectorForGetElement).get(0)||this.$(this.selector).get(0),this.$element=this.$(this.element),this.renderer=new $(this.element),this.isInitialized=!1,this.serviceInjection={},this.decorator(),this.stylesLinkTag=this.decoration.styleUrls.reduce((e,t)=>e+`<link rel="stylesheet" type="text/css" href="app/${t}" />\n`,""),this.stylesLinkTag+=this.decoration.styles?"<style>"+this.decoration.styles.join("\n")+"</style>":"",this.templateHTML=this.loadTemplate(),this.init().then(()=>{})}static get classes$(){return this._classes$=this._classes$||new _,this._classes$}static get decoration(){return this.prototype.decoration}get decoration(){return{templateUrl:null,template:"",styleUrls:[],styles:[],selector:""}}decorator(){}async _inject(){const e=this;await Promise.all([...Object.keys(e.serviceInjection).map(t=>new Promise((r,n)=>{e.refObj.serviceManager.getService(e.serviceInjection[t]).subscribe(n=>{e.serviceInjection[t]=n,r()})}))])}async _initChildComponents(){const e=this,t=[];this.refObj.declarations.forEach(r=>{const n=e.element.querySelectorAll(r.decoration.selector);for(let e=0;e<n.length;e++){const s=n[e];s.classList.add("jw-component"),t.push(new r({...this.refObj,element:s}))}})}async onInit(){return Error("Not implemented")}async onRender(){await this.renderer.update(await this.templateHTML)}onLoad(){}onStart(){}async init(){await this._inject(),await this.onInit(),await this.templateHTML,await this.draw(),await this._initChildComponents(),this.onStart(),this.isInitialized=!0,this.onLoad()}async draw(){await this.onRender()}show(){this.$element.show()}hide(){this.$element.hide()}async loadTemplate(){const e=this,t=e.decoration.templateUrl;return null==t?Promise.resolve(e.stylesLinkTag+(e.decoration.template||"")):new Promise((r,n)=>{e.$.ajax({url:"./app/"+t,success:t=>{r(e.stylesLinkTag+t)},error:e=>{n(e)}})})}async fetch(e){const t=this.$;return new Promise((r,n)=>{t.ajax({url:e}).done(e=>{r(e)})})}}class w{constructor(e){this.componentsManager=e.componentsManager,this.serviceManager=e.serviceManager,this.serviceInjection={},this.decoration={},this.decorator(),this._inject().then(()=>{this.onStart()})}get[Symbol.toStringTag](){return"PleaseOverrideServiceName"}decorator(){}async _inject(){const e=this;await Promise.all([...Object.keys(e.serviceInjection).map(t=>new Promise((r,n)=>{e.serviceManager.getService(e.serviceInjection[t]).subscribe(n=>{e.serviceInjection[t]=n,r()})}))])}open(){}onCreate(){}onStart(){}onResume(){}onPause(){}onStop(){}onDestroy(){}onRestart(){}}class x{constructor(){}getPage(e){throw new Error("Not Implemented")}putPage(e){throw new Error("Not Implemented")}deletePage(e){throw new Error("Not Implemented")}postPage(e){throw new Error("Not Implemented")}async getPageHistory(){throw new Error("Not Implemented")}async isLogin(){throw new Error("Not Implemented")}signIn(e,t){throw new Error("Not Implemented")}signUp(e,t){throw new Error("Not Implemented")}signOut(){throw new Error("Not Implemented")}async getFile(e){throw new Error("Not Implemented")}async postFile(e){throw new Error("Not Implemented")}async putFile(e){throw new Error("Not Implemented")}async deleteFile(e){throw new Error("Not Implemented")}async getFileLink(e){throw new Error("Not Implemented")}async getFileNames(e){throw new Error("Not Implemented")}async getLoginHistory(){throw new Error("Not Implemented")}async addLoginHistory(e,t){throw new Error("Not Implemented")}}class k{constructor(e,t,r){this.pageURI=e||"notitle",this.rawText=t,this.authorObject={id:"id",editable:{},...r},this.cloudObject=null,this.error={}}static isAbsoluteURI(e){return 0===e.indexOf("/")}}var C=r(14),A=r.n(C);class S extends x{constructor(){super(),this.appKey=A.a.JW_CLOUD_APP_KEY||"",this.clientKey=A.a.JW_CLOUD_CLIENT_KEY||"",this.APPLICATION_ID=A.a.JW_CLOUD_APPLICATION_ID,this.instance=this,this.ncmb=new this.NCMB(this.appKey,this.clientKey);this.ncmb.User.getCurrentUser()}get NCMB(){return window.top.NCMB}async getPage(e){const t=this.ncmb.DataStore("Page");return await t.equalTo("path",e).fetch().then((function(t){if(!t.objectId)throw new Error("Page:NotFound");const r=new k(e,t.text);return r.cloudObject=t,r.error={},r})).catch((function(e){const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);throw t&&"401"==t[1]?new Error("JWCloud:Unauthorized"):e}))}async putPage(e){if(null==e.pageURI)throw new Error("err");let t=null;if(e.cloudObject)t=e.cloudObject;else{const r=this.ncmb.DataStore("Page");t=await r.equalTo("path",e.pageURI).fetch()}return console.log("b:",t),t.objectId?await t.set("author",e.authorObject.id).set("path",e.pageURI).set("text",e.rawText).update().catch(e=>{const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);throw t&&"401"==t[1]?new Error("JWCloud:Unauthorized"):e}):await this.postPage(e)}async deletePage(e){const t=this.ncmb.DataStore("Page");return await t.equalTo("path",e.pageURI).fetch().delete().catch((function(e){const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);throw t&&"401"==t[1]?new Error("JWCloud:Unauthorized"):e}))}async postPage(e){const t=new(this.ncmb.DataStore("Page")),r=new this.ncmb.Acl;return await t.set("acl",r).set("author",e.authorObject.id).set("path",e.pageURI).set("text",e.rawText).save().then(e=>e).catch(e=>{const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);throw t&&"401"==t[1]?new Error("JWCloud:Unauthorized"):e})}async listPages(e=10,t=null){let r=this.ncmb.DataStore("Page").limit(e);return t&&(r=r.equalTo("author",t)),await r.fetchAll().then((function(e){return e.map(e=>({path:e.path,author:e.author,updateDate:e.updateDate}))})).catch((function(e){const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);throw t&&"401"==t[1]?new Error("JWCloud:Unauthorized"):e}))}async getPageHistory(){return await this.ncmb.Script.exec("GET","page_history.js").then((function(e){return JSON.parse(e.body)})).catch((function(e){return e}))}async isLogin(){const e=this.ncmb.DataStore("LoginLog");return await e.fetch().then(e=>{const t=this.ncmb.User.getCurrentUser();return{id:t.userName,name:t.userName,updateDate:t.updateDate,createDate:t.createDate}}).catch(e=>{const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);if(t&&"401"==t[1])return null;if(t&&"403"==t[1])return null;throw e})}async signIn(e,t){const r=new this.ncmb.User({userName:e,password:t});try{const e=await this.ncmb.User.login(r);return{id:e.userName,name:e.userName,updateDate:e.updateDate,createDate:e.createDate}}catch(e){const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);throw t&&"401"==t[1]?new Error("JWCloud:Unauthorized"):e}}async signUp(e,t){const r=this,n=new this.ncmb.User;n.set("userName",e).set("password",t);const s=await n.signUpByAccount().catch((function(e){const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);throw t&&"401"==t[1]?new Error("JWCloud:Unauthorized"):t&&"409"==t[1]?new Error("JWCloud:Conflict"):e})),i=await r.ncmb.Role.equalTo("roleName","normal").fetch().catch((function(e){throw new Error("JWCloud:ErrorSearchRole")}));if("{}"===JSON.stringify(i))throw new Error("JWCloud:NotFoundRole");await i.addUser(s).update().then((function(n){return r.signIn(e,t)})).catch((function(e){throw new Error("JWCloud:ErrorAddUserToRole")}))}async signOut(){return await this.ncmb.User.logout().catch(e=>{const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);throw t&&"401"==t[1]?new Error("JWCloud:Unauthorized"):e})}async postFile(e){return await this.ncmb.File.upload(e.filename,e.rawFile).then((function(e){return!0})).catch((function(e){return console.log(e),!1}))}async getFileLink(e){return"https://mbaas.api.nifcloud.com/2013-09-01/applications/"+this.APPLICATION_ID+"/publicFiles/"+e.replace(/[^a-zA-Z0-9_.]/g,"")}async getFileNames(e){const t=this.ncmb.File.order("createDate",!0);return t._where={fileName:{$regex:e}},await t.fetchAll().then((function(e){return e.map(e=>e.fileName)})).catch((function(e){const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);throw t&&"401"==t[1]?new Error("JWCloud:Unauthorized"):e}))}async getLoginHistory(){const e=this.ncmb.DataStore("LoginLog");return await e.order("createDate",!0).limit(50).fetchAll().then((function(e){let t="";if(0===e.length)return console.log(e),t="LoginLog:NotFound",t;for(let r=0;r<e.length;r++){const n=e[r];t+=n.get("createDate")+";"+n.get("status")+";"+n.get("userName")+"<br />\n"}return t})).catch((function(e){const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);if(t&&"401"==t[1])throw new Error("JWCloud:Unauthorized");if(t&&"403"==t[1])return"権限がありません.";throw e}))}async addLoginHistory(e,t){return(new(this.ncmb.DataStore("LoginLog"))).set("status",e).set("userName",t).save().then((function(e){return console.log(e),!0})).catch((function(e){const t=e.message.match(/^cannot GET .+ \((\d+)\)$/);throw t&&"401"==t[1]?new Error("JWCloud:Unauthorized"):e}))}}class E{constructor(){this.statusDefault={app:{pageURI:"/FrontPage",appName:"WikiApp"},user:{id:"id",name:"name"}},this._status=this.statusDefault,this.load(),this.save()}load(){const e=sessionStorage.getItem("JW_Status"),t={...this.statusDefault,...JSON.parse(e)},r=new URL(window.location.href),n=r.searchParams;this._status.user=t.user,this._status.app={pageURI:this.resolveURI(n.get("pageURI")||window.history.state&&window.history.state.pageURI||t.app.pageURI),appName:n.get("appName")||window.history.state&&window.history.state.appName||t.app.appName},n.delete("appName"),n.delete("pageURI"),window.history.replaceState(this._status.app,this._status.app.appName+": "+this._status.app.pageURI,r.href)}save(){const e=JSON.stringify(this._status);sessionStorage.setItem("JW_Status",e)}getPageURI(){return this._status.app.pageURI}setPageURI(e){this._status.app.pageURI=this.resolveURI(e)}resolveURI(e){if(k.isAbsoluteURI(e))return e;{const t=this.getPageURI().split("/");return t[t.length-1]=e,t.join("/")}}getSign(){return null}}var D=function(){function e(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}return e.prototype.call=function(e,t){return t.subscribe(new I(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),I=function(e){function t(t,r,n,s,i){var o=e.call(this,t)||this;return o.predicate=r,o.source=n,o.yieldIndex=s,o.thisArg=i,o.index=0,o}return s.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,r=this.thisArg,n=this.index++;try{t.call(r||this,e,n,this.source)&&this.notifyComplete(this.yieldIndex?n:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(u.a);class L{constructor(){this.services$=new _}register(e){this.services$.next(e)}getService(e){return this.services$.pipe(function(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new D(e,r,!1,t))}}(t=>t.toString()===e.toString()))}}var j=r(27);class T{constructor(){this.components$=new _}register(e){this.components$.next(e)}getComponents(e){return this.components$.pipe(Object(j.a)(t=>t.constructor.name===e.constructor.name))}}class ${constructor(e){this.element=e,this.html$=new i.a,this.html$.subscribe(async e=>{const t={selector:"",type:"html",value:"",...e},r=""==t.selector||null==t.selector?[this.element]:Array.from(this.element.querySelectorAll(t.selector));""===t.selector&&"html"===t.type?await this.update(t.value):"html"===t.type?r.map(e=>{e.innerHTML=t.value}):"text"===t.type?r.map(e=>{e.textContent=t.value}):"append"===t.type?r.map(e=>{e.innerHTML=e.innerHTML+t.value}):"prepend"===t.type&&r.map(e=>{e.innerHTML=t.value+e.innerHTML})})}setHTML(e){this.element.innerHTML=e}setText(e){this.element.textContent=e}print(e){this.element.innerHTML+=e}println(e){this.element.innerHTML+=e+"</br>"}cls(){this.element.innerHTML=null}async update(e){return this.setHTML(e),e}}class q extends ${constructor(e,t){super(e),this._cloud=new S,this._jwStatus=new E,this._pageURI=t,this.syntaxes=[new N("")]}async update(e=null){let t=e;!t&&this._pageURI&&(this.println("Downloading."),t=(await this._cloud.getPage(this._pageURI)).rawText),this.println("Checking Syntax."),t=await this.convert(t),this.println("Checked Syntax .");const r=top.$;return r(this.element).fadeOut("fast",()=>{this.setHTML(t),r(this.element).fadeIn("1")}),t}async convert(e){let t=e;for(let e=0;e<this.syntaxes.length;e++)t=await this.syntaxes[e].checkAfterLoadingPage(t);return t}}class F{constructor(e){this.rawText=e,this.text=e,this._cloud=new S}async checkBeforeSavingPage(e){throw new Error("Not Implemented")}async checkAfterLoadingPage(e){throw new Error("Not Implemented")}replaceSyntax(e){throw new Error("Not Implemented")}async run(){throw new Error("Not Implemented")}}class N extends F{constructor(e){super(e),this._cloud=new S,this.uploadedImageLink="up/",(async()=>{this.uploadedImageLink=(await this._cloud.getFileLink("CONST")).replace(/CONST/,"")})()}async checkBeforeSavingPage(e){const t=e;return await N.checkNewCommentForm(t).catch(e=>{throw e})}async checkAfterLoadingPage(e){let t=e;return t=await this.checkComment(t),t=this.replaceSyntax(t),t}static async checkNewCommentForm(e){let t=e;return/#comment\(\s*\)/.test(e)&&(t=t.replace(/#comment\(\s*\)/g,(function(e){return"#comment("+N.rndStr(10)+")"}))),t}async checkComment(e){const t=this;let r=e;const n=/#comment\(([a-zA-Z0-9]{6,10})\)/g,s=new P;let i;const o=[];for(;null!==(i=n.exec(r));)o.push(i[1]);const a={};o.forEach(e=>a[e]=[]);const c=o.map(e=>s.getComment(e)),u=await Promise.all(c).catch(e=>{throw e});for(let e=0;e<u.length;e++)a[u[e].commentObjectId]=u[e].data;return Object.keys(a).forEach((function(e){const n='<div class="WikiSyntax_Comment"><form class="CommentForm" data-objid="'+e+'"><input type="text" name="content" size="25" value="" placeholder="コメント本文" /><input type="text" name="contributor" size="10" value="" placeholder="名前" /><input type="submit" value="投稿" /></form><ul>'+a[e].map(e=>`<li>${t.replaceSyntax(e.contributor)}: ${t.replaceSyntax(e.content)}</li>`).reduce((e,t)=>e+t,"")+"</ul></div>";r=r.replace("#comment("+e+")",n)})),r}static rndStr(e){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let r="",n=0;for(;n<e;)r+=t[Math.floor(Math.random()*t.length)],n++;return r}replaceSyntax(e){const t=[];let r=e;t.push([/&image\((\w+\.\w+)\)/g,'<img src="'+this.uploadedImageLink+'$1" class="tag" style="max-width:360px;" />']),t.push([/&image\((\w+\.\w+),([0-9]*),([0-9]*)\)/g,'<img src="'+this.uploadedImageLink+'$1" class="tag" style="width:$2px;height:$3px;" />']),t.push([/&img\((https?:\/\/.+)\)/g,'<img src="$1" class="tag" style="width:200px;" />']),t.push([/&size\((\d+)\)\{(.*)\}/g,'<span style="font-size:$1px">$2</span>']),t.push([/&color\((#[0-9A-F]{6})\)\{(.*)\}/g,'<span style="color:$1">$2</span>']),t.push([/\[\[(.+?)::(https?:\/\/.+?)]]/g,'<a value="$2" href="$2" target=" _blank">$1</a>']),t.push([/\[\[(.+?)::(.+)]]/g,'<a data-page="$2" href="?pageURI=$2" class="ajaxLoad">$1</a>']),t.push([/\[\[(.+?)]]/g,'<a data-page="$1" href="?pageURI=$1" class="ajaxLoad">$1</a>']),t.push([/\[\[#([a-z][a-f0-9]{7})]]/g,'<a class="page_pos" value="$1" href="#$1">$1</a>']),t.push([/\[\[(.+?)::#([a-z][a-f0-9]{7})]]/g,'<a class="page_pos" value="$2" href="#$2">$1</a>']),t.push([/%%(.+?)%%/g,"<s>$1</s>"]),t.push([/'''(.+?)'''/g,"<i>$1</i>"]),t.push([/''(.+?)''/g,"<strong>$1</strong>"]),t.push([/#hr\s*/g,"<hr>"]),t.push([/#[cC]ode([\s\S]*?)#[eE]nd/g,"<code>$1</code>"]),t.push([/(^|[^:])\/\/.*/g,"__NewLine__"]),t.push([/\/\*[\s\S]*?\*\//g,""]),t.push([/^\*\*\*(.*) \[#([a-z][a-f0-9]{7})\](.*)$/gm,'<p class="Asta3" id="$2">$1</p>__NewLine__']),t.push([/^\*\*(.*) \[#([a-z][a-f0-9]{7})\](.*)$/gm,'<p class="Asta2" id="$2">$1</p>__NewLine__']),t.push([/^\*(.*) \[#([a-z][a-f0-9]{7})\](.*)$/gm,'<p class="Asta1" id="$2">$1</p>__NewLine__']),t.push([/^\*\*\*(.*)$/gm,'<p class="asta3">$1</p>__NewLine__']),t.push([/^\*\*(.*)$/gm,'<p class="asta2">$1</p>__NewLine__']),t.push([/^\*(.*)$/gm,'<p class="asta1">$1</p>__NewLine__']),t.push([/^---(.+)$/gm,'<ul><ul><ul type="square"><li>$1</li></ul></ul></ul>__NewLine__']),t.push([/^--(.+)$/gm,'<ul><ul type="circle"><li>$1</li></ul></ul>__NewLine__']),t.push([/^-(.+)$/gm,'<ul type="disc"><li>$1</li></ul>__NewLine__']),t.push([/^\|(.*\|)[^|\n]*$/gm,(...e)=>"<table><tr>"+e[1].replace(/(.*?)\|/g,"<td>$1</td>")+"</tr></table>__NewLine__"]),t.push([/&countdown\((\d{4}\/[0-1]?\d\/[0-3]?\d)(,day)?\)/g,(...e)=>{const t=(new Date(e[1]).getTime()-Date.now())/1e3/60/60/24;return-1<t&&t<1?"今":""+t}]),t.push([/&new\((text,)?(\d{4}\/[0-1]?\d\/[0-3]?\d).*?\)/g,(...e)=>{new Date(e[2]).getTime(),Date.now();return"[未実装構文]"}]),t.push([/^#contents\(page=(.*)\)$\n/gm,"[未実装構文]"]);for(let e=0;e<t.length;e++)r=r.replace(t[e][0],t[e][1]);return r=r.replace(/__NewLine__\r?\n/g,""),r=r.replace("__NewLine__",""),r=r.replace(/\r?\n/g,"<br>"),r}}class P{constructor(){this._cloud=new S}async getComment(e){const t=this._cloud.ncmb.DataStore("Comment");return{commentObjectId:e,data:await t.equalTo("commentObjectId",e).order("createDate",!0).fetchAll().catch(e=>{throw console.log(e),e})}}async setComment(e,t,r){const n=new(this._cloud.ncmb.DataStore("Comment"));return await n.set("commentObjectId",e).set("content",t).set("contributor",r).save().catch(e=>{throw e})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}(),s=r(18),i=r(12),o=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this._parentOrParents,a=this._ctorUnsubscribe,u=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var p=0;p<r.length;++p){r[p].remove(this)}if(Object(i.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(e){t=e instanceof o?c(e.errors):[e]}}if(n(l)){p=-1;for(var h=l.length;++p<h;){var d=l[p];if(Object(s.a)(d))try{d.unsubscribe()}catch(e){t=t||[],e instanceof o?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new o(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var s=r._parentOrParents;if(null===s)r._parentOrParents=this;else if(s instanceof e){if(s===this)return r;r._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return r;s.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof o?t.errors:t)}),[])}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=!1,s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,r){"use strict";function n(e){setTimeout((function(){throw e}),0)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function s(e,t){return n.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function o(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}var a=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,c=new RegExp(a.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=r(31);var p=/[&<>"]/,h=/[&<>"]/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function f(e){return d[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var g=r(28);t.lib={},t.lib.mdurl=r(32),t.lib.ucmicro=r(46),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(r){e[r]=t[r]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=s,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(a,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(c,(function(e,t,r){return t||function(e,t){var r=0;return s(l,t)?l[t]:35===t.charCodeAt(0)&&u.test(t)&&i(r="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?o(r):e}(e,r)}))},t.isValidEntityCode=i,t.fromCodePoint=o,t.escapeHtml=function(e){return p.test(e)?e.replace(h,f):e},t.arrayReplaceAt=function(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return g.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(5),s=r(7),i={closed:!0,next:function(e){},error:function(e){if(n.a.useDeprecatedSynchronousErrorHandling)throw e;Object(s.a)(e)},complete:function(){}}},function(e,t,r){"use strict";function n(e){return"function"==typeof e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2),s=r(4);function i(e,t){return new n.a((function(r){var n=new s.a,i=0;return n.add(t.schedule((function(){i!==e.length?(r.next(e[i++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}},function(e,t){e.exports={JW_CLOUD_APPLICATION_ID:"Q5BkzYpYGt0sshPj",JW_CLOUD_APP_KEY:"73214ee5293b310aba334aaf6b58cb41cb89873a1eb88ab505fa7d48dcc2b911",JW_CLOUD_NAME:"ncmb",JW_SITE_NAME:"JapariWiki_v2.2.4",JW_CLOUD_CLIENT_KEY:"79d3a32839ef780c0fe16236d8efc7bdd338312ec1d969945346a181ffc9442f"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0),s=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return n.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(r(4).a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},,function(e,t,r){"use strict";function n(e){return null!==e&&"object"==typeof e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2),s=new n.a((function(e){return e.complete()}));function i(e){return e?function(e){return new n.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):s}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(0),s=r(2),i=r(1),o=r(4),a=r(6),c=r(15),u=r(8),l=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return n.a(t,e),t}(i.a),p=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.a(t,e),t.prototype[u.a]=function(){return new l(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),s=0;s<r;s++)n[s].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),s=0;s<r;s++)n[s].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new c.a(this,e))},t.prototype.asObservable=function(){var e=new s.a;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(s.a),h=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return n.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):o.a.EMPTY},t}(p)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0),s=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}(),i=function(e){function t(r,n){void 0===n&&(n=s.now);var i=e.call(this,r,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return n.a(t,e),t.prototype.schedule=function(r,n,s){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,s):e.prototype.schedule.call(this,r,n,s)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(s)},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0),s=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return n.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,r){return e.call(this)||this}return n.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(4).a))},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(2);function s(e,t){return t?new n.a((function(r){return t.schedule(i,0,{error:e,subscriber:r})})):new n.a((function(t){return t.error(e)}))}function i(e){var t=e.error;e.subscriber.error(t)}},function(e,t,r){"use strict";function n(e){return e&&"function"==typeof e.schedule}r.d(t,"a",(function(){return c}));var s=r(2),i=r(19),o=r(13);function a(e,t){return t?Object(o.a)(e,t):new s.a(Object(i.a)(e))}function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return n(r)?(e.pop(),Object(o.a)(e,r)):a(e)}},function(e,t,r){"use strict";e.exports=r(40)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0),s=r(1);function i(e,t){return function(r){return r.lift(new o(e,t))}}var o=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,r,n){var s=e.call(this,t)||this;return s.predicate=r,s.thisArg=n,s.count=0,s}return n.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(s.a)},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,r){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},n.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(r){r.enabled&&(t&&r.alt.indexOf(t)<0||e.__cache__[t].push(r.fn))}))}))},n.prototype.at=function(e,t,r){var n=this.__find__(e),s=r||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=s.alt||[],this.__cache__=null},n.prototype.before=function(e,t,r,n){var s=this.__find__(e),i=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null},n.prototype.after=function(e,t,r,n){var s=this.__find__(e),i=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null},n.prototype.push=function(e,t,r){var n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null},n.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(e){var n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!0,r.push(e)}),this),this.__cache__=null,r},n.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},n.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(e){var n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!1,r.push(e)}),this),this.__cache__=null,r},n.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(e){var t,r,n;if(!this.attrs)return-1;for(r=0,n=(t=this.attrs).length;r<n;r++)if(t[r][0]===e)return r;return-1},n.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},n.prototype.attrSet=function(e,t){var r=this.attrIndex(e),n=[e,t];r<0?this.attrPush(n):this.attrs[r]=n},n.prototype.attrGet=function(e){var t=this.attrIndex(e),r=null;return t>=0&&(r=this.attrs[t][1]),r},n.prototype.attrJoin=function(e,t){var r=this.attrIndex(e);r<0?this.attrPush([e,t]):this.attrs[r][1]=this.attrs[r][1]+" "+t},e.exports=n},function(e,t,r){"use strict";e.exports=r(41)},function(e,t,r){"use strict";e.exports.encode=r(42),e.exports.decode=r(43),e.exports.format=r(44),e.exports.parse=r(45)},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t,r){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",s="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+n+"|"+s+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),o=new RegExp("^(?:"+n+"|"+s+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=o},function(e,t,r){"use strict";function n(e,t){var r,n,s,i,o,a=[],c=t.length;for(r=0;r<c;r++)126===(s=t[r]).marker&&-1!==s.end&&(i=t[s.end],(o=e.tokens[s.token]).type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",(o=e.tokens[i.token]).type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&a.push(i.token-1));for(;a.length;){for(n=(r=a.pop())+1;n<e.tokens.length&&"s_close"===e.tokens[n].type;)n++;r!==--n&&(o=e.tokens[n],e.tokens[n]=e.tokens[r],e.tokens[r]=o)}}e.exports.tokenize=function(e,t){var r,n,s,i,o=e.pos,a=e.src.charCodeAt(o);if(t)return!1;if(126!==a)return!1;if(s=(n=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(a),s<2)return!1;for(s%2&&(e.push("text","",0).content=i,s--),r=0;r<s;r+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:a,length:0,jump:r/2,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},e.exports.postProcess=function(e){var t,r=e.tokens_meta,s=e.tokens_meta.length;for(n(e,e.delimiters),t=0;t<s;t++)r[t]&&r[t].delimiters&&n(e,r[t].delimiters)}},function(e,t,r){"use strict";function n(e,t){var r,n,s,i,o,a;for(r=t.length-1;r>=0;r--)95!==(n=t[r]).marker&&42!==n.marker||-1!==n.end&&(s=t[n.end],a=r>0&&t[r-1].end===n.end+1&&t[r-1].token===n.token-1&&t[n.end+1].token===s.token+1&&t[r-1].marker===n.marker,o=String.fromCharCode(n.marker),(i=e.tokens[n.token]).type=a?"strong_open":"em_open",i.tag=a?"strong":"em",i.nesting=1,i.markup=a?o+o:o,i.content="",(i=e.tokens[s.token]).type=a?"strong_close":"em_close",i.tag=a?"strong":"em",i.nesting=-1,i.markup=a?o+o:o,i.content="",a&&(e.tokens[t[r-1].token].content="",e.tokens[t[n.end+1].token].content="",r--))}e.exports.tokenize=function(e,t){var r,n,s=e.pos,i=e.src.charCodeAt(s);if(t)return!1;if(95!==i&&42!==i)return!1;for(n=e.scanDelims(e.pos,42===i),r=0;r<n.length;r++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:n.length,jump:r,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},e.exports.postProcess=function(e){var t,r=e.tokens_meta,s=e.tokens_meta.length;for(n(e,e.delimiters),t=0;t<s;t++)r[t]&&r[t].delimiters&&n(e,r[t].delimiters)}},function(e,t,r){!function(e){"use strict";function t(){}function r(e,t,r,n,s){for(var i=0,o=t.length,a=0,c=0;i<o;i++){var u=t[i];if(u.removed){if(u.value=e.join(n.slice(c,c+u.count)),c+=u.count,i&&t[i-1].added){var l=t[i-1];t[i-1]=t[i],t[i]=l}}else{if(!u.added&&s){var p=r.slice(a,a+u.count);p=p.map((function(e,t){var r=n[c+t];return r.length>e.length?r:e})),u.value=e.join(p)}else u.value=e.join(r.slice(a,a+u.count));a+=u.count,u.added||(c+=u.count)}}var h=t[o-1];return o>1&&"string"==typeof h.value&&(h.added||h.removed)&&e.equals("",h.value)&&(t[o-2].value+=h.value,t.pop()),t}function n(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.prototype={diff:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=s.callback;"function"==typeof s&&(i=s,s={}),this.options=s;var o=this;function a(e){return i?(setTimeout((function(){i(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var c=(t=this.removeEmpty(this.tokenize(t))).length,u=e.length,l=1,p=c+u,h=[{newPos:-1,components:[]}],d=this.extractCommon(h[0],t,e,0);if(h[0].newPos+1>=c&&d+1>=u)return a([{value:this.join(t),count:t.length}]);function f(){for(var s=-1*l;s<=l;s+=2){var i=void 0,p=h[s-1],d=h[s+1],f=(d?d.newPos:0)-s;p&&(h[s-1]=void 0);var m=p&&p.newPos+1<c,g=d&&0<=f&&f<u;if(m||g){if(!m||g&&p.newPos<d.newPos?(i=n(d),o.pushComponent(i.components,void 0,!0)):((i=p).newPos++,o.pushComponent(i.components,!0,void 0)),f=o.extractCommon(i,t,e,s),i.newPos+1>=c&&f+1>=u)return a(r(o,i.components,t,e,o.useLongestToken));h[s]=i}else h[s]=void 0}l++}if(i)!function e(){setTimeout((function(){if(l>p)return i();f()||e()}),0)}();else for(;l<=p;){var m=f();if(m)return m}},pushComponent:function(e,t,r){var n=e[e.length-1];n&&n.added===t&&n.removed===r?e[e.length-1]={count:n.count+1,added:t,removed:r}:e.push({count:1,added:t,removed:r})},extractCommon:function(e,t,r,n){for(var s=t.length,i=r.length,o=e.newPos,a=o-n,c=0;o+1<s&&a+1<i&&this.equals(t[o+1],r[a+1]);)o++,a++,c++;return c&&e.components.push({count:c}),e.newPos=o,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var s=new t;function i(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var o=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,a=/\S/,c=new t;c.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!a.test(e)&&!a.test(t)},c.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&o.test(t[r])&&o.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var u=new t;function l(e,t,r){return u.diff(e,t,r)}u.tokenize=function(e){var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var s=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t};var p=new t;p.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var h=new t;function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}h.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var g=Object.prototype.toString,b=new t;function _(e,t,r,n,s){var i,o;for(t=t||[],r=r||[],n&&(e=n(s,e)),i=0;i<t.length;i+=1)if(t[i]===e)return r[i];if("[object Array]"===g.call(e)){for(t.push(e),o=new Array(e.length),r.push(o),i=0;i<e.length;i+=1)o[i]=_(e[i],t,r,n,s);return t.pop(),r.pop(),o}if(e&&e.toJSON&&(e=e.toJSON()),"object"===d(e)&&null!==e){t.push(e),o={},r.push(o);var a,c=[];for(a in e)e.hasOwnProperty(a)&&c.push(a);for(c.sort(),i=0;i<c.length;i+=1)o[a=c[i]]=_(e[a],t,r,n,a);t.pop(),r.pop()}else o=e;return o}b.useLongestToken=!0,b.tokenize=u.tokenize,b.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,s=void 0===n?function(e,t){return void 0===t?r:t}:n;return"string"==typeof e?e:JSON.stringify(_(e,null,null,s),s,"  ")},b.equals=function(e,r){return t.prototype.equals.call(b,e.replace(/,([\r\n])/g,"$1"),r.replace(/,([\r\n])/g,"$1"))};var v=new t;function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.split(/\r\n|[\n\v\f\r\x85]/),n=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=[],i=0;function o(){var e={};for(s.push(e);i<r.length;){var n=r[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(n))break;var o=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(n);o&&(e.index=o[1]),i++}for(a(e),a(e),e.hunks=[];i<r.length;){var u=r[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(u))break;if(/^@@/.test(u))e.hunks.push(c());else{if(u&&t.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(u));i++}}}function a(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(r[i]);if(t){var n="---"===t[1]?"old":"new",s=t[2].split("\t",2),o=s[0].replace(/\\\\/g,"\\");/^".*"$/.test(o)&&(o=o.substr(1,o.length-2)),e[n+"FileName"]=o,e[n+"Header"]=(s[1]||"").trim(),i++}}function c(){var e=i,s=r[i++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),o={oldStart:+s[1],oldLines:void 0===s[2]?1:+s[2],newStart:+s[3],newLines:void 0===s[4]?1:+s[4],lines:[],linedelimiters:[]};0===o.oldLines&&(o.oldStart+=1),0===o.newLines&&(o.newStart+=1);for(var a=0,c=0;i<r.length&&!(0===r[i].indexOf("--- ")&&i+2<r.length&&0===r[i+1].indexOf("+++ ")&&0===r[i+2].indexOf("@@"));i++){var u=0==r[i].length&&i!=r.length-1?" ":r[i][0];if("+"!==u&&"-"!==u&&" "!==u&&"\\"!==u)break;o.lines.push(r[i]),o.linedelimiters.push(n[i]||"\n"),"+"===u?a++:"-"===u?c++:" "===u&&(a++,c++)}if(a||1!==o.newLines||(o.newLines=0),c||1!==o.oldLines||(o.oldLines=0),t.strict){if(a!==o.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(c!==o.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return o}for(;i<r.length;)o();return s}function w(e,t,r){var n=!0,s=!1,i=!1,o=1;return function a(){if(n&&!i){if(s?o++:n=!1,e+o<=r)return o;i=!0}if(!s)return i||(n=!0),t<=e-o?-o++:(s=!0,a())}}function x(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=y(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var n,s,i=e.split(/\r\n|[\n\v\f\r\x85]/),o=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=t.hunks,c=r.compareLine||function(e,t,r,n){return t===n},u=0,l=r.fuzzFactor||0,p=0,h=0;function d(e,t){for(var r=0;r<e.lines.length;r++){var n=e.lines[r],s=n.length>0?n[0]:" ",o=n.length>0?n.substr(1):n;if(" "===s||"-"===s){if(!c(t+1,i[t],s,o)&&++u>l)return!1;t++}}return!0}for(var f=0;f<a.length;f++){for(var m=a[f],g=i.length-m.oldLines,b=0,_=h+m.oldStart-1,v=w(_,p,g);void 0!==b;b=v())if(d(m,_+b)){m.offset=h+=b;break}if(void 0===b)return!1;p=m.offset+m.oldStart+m.oldLines}for(var x=0,k=0;k<a.length;k++){var C=a[k],A=C.oldStart+C.offset+x-1;x+=C.newLines-C.oldLines;for(var S=0;S<C.lines.length;S++){var E=C.lines[S],D=E.length>0?E[0]:" ",I=E.length>0?E.substr(1):E,L=C.linedelimiters[S];if(" "===D)A++;else if("-"===D)i.splice(A,1),o.splice(A,1);else if("+"===D)i.splice(A,0,I),o.splice(A,0,L),A++;else if("\\"===D){var j=C.lines[S-1]?C.lines[S-1][0]:null;"+"===j?n=!0:"-"===j&&(s=!0)}}}if(n)for(;!i[i.length-1];)i.pop(),o.pop();else s&&(i.push(""),o.push("\n"));for(var T=0;T<i.length-1;T++)i[T]=i[T]+o[T];return i.join("")}function k(e,t,r,n,s,i,o){o||(o={}),void 0===o.context&&(o.context=4);var a=l(r,n,o);function c(e){return e.map((function(e){return" "+e}))}a.push({value:"",lines:[]});for(var u=[],p=0,h=0,d=[],m=1,g=1,b=function(e){var t=a[e],s=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=s,t.added||t.removed){var i;if(!p){var l=a[e-1];p=m,h=g,l&&(d=o.context>0?c(l.lines.slice(-o.context)):[],p-=d.length,h-=d.length)}(i=d).push.apply(i,f(s.map((function(e){return(t.added?"+":"-")+e})))),t.added?g+=s.length:m+=s.length}else{if(p)if(s.length<=2*o.context&&e<a.length-2){var b;(b=d).push.apply(b,f(c(s)))}else{var _,v=Math.min(s.length,o.context);(_=d).push.apply(_,f(c(s.slice(0,v))));var y={oldStart:p,oldLines:m-p+v,newStart:h,newLines:g-h+v,lines:d};if(e>=a.length-2&&s.length<=o.context){var w=/\n$/.test(r),x=/\n$/.test(n),k=0==s.length&&d.length>y.oldLines;!w&&k&&r.length>0&&d.splice(y.oldLines,0,"\\ No newline at end of file"),(w||k)&&x||d.push("\\ No newline at end of file")}u.push(y),p=0,h=0,d=[]}m+=s.length,g+=s.length}},_=0;_<a.length;_++)b(_);return{oldFileName:e,newFileName:t,oldHeader:s,newHeader:i,hunks:u}}function C(e,t,r,n,s,i,o){return function(e){var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(void 0===e.oldHeader?"":"\t"+e.oldHeader)),t.push("+++ "+e.newFileName+(void 0===e.newHeader?"":"\t"+e.newHeader));for(var r=0;r<e.hunks.length;r++){var n=e.hunks[r];0===n.oldLines&&(n.oldStart-=1),0===n.newLines&&(n.newStart-=1),t.push("@@ -"+n.oldStart+","+n.oldLines+" +"+n.newStart+","+n.newLines+" @@"),t.push.apply(t,n.lines)}return t.join("\n")+"\n"}(k(e,t,r,n,s,i,o))}function A(e,t){if(t.length>e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function S(e){var t=function e(t){var r=0,n=0;return t.forEach((function(t){if("string"!=typeof t){var s=e(t.mine),i=e(t.theirs);void 0!==r&&(s.oldLines===i.oldLines?r+=s.oldLines:r=void 0),void 0!==n&&(s.newLines===i.newLines?n+=s.newLines:n=void 0)}else void 0===n||"+"!==t[0]&&" "!==t[0]||n++,void 0===r||"-"!==t[0]&&" "!==t[0]||r++})),{oldLines:r,newLines:n}}(e.lines),r=t.oldLines,n=t.newLines;void 0!==r?e.oldLines=r:delete e.oldLines,void 0!==n?e.newLines=n:delete e.newLines}function E(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return y(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return k(void 0,void 0,t,e)}return e}function D(e){return e.newFileName&&e.newFileName!==e.oldFileName}function I(e,t,r){return t===r?t:(e.conflict=!0,{mine:t,theirs:r})}function L(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function j(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function T(e,t,r,n,s){var i={offset:t,lines:r,index:0},o={offset:n,lines:s,index:0};for(N(e,i,o),N(e,o,i);i.index<i.lines.length&&o.index<o.lines.length;){var a=i.lines[i.index],c=o.lines[o.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==c[0]&&"+"!==c[0])if("+"===a[0]&&" "===c[0]){var u;(u=e.lines).push.apply(u,f(O(i)))}else if("+"===c[0]&&" "===a[0]){var l;(l=e.lines).push.apply(l,f(O(o)))}else"-"===a[0]&&" "===c[0]?q(e,i,o):"-"===c[0]&&" "===a[0]?q(e,o,i,!0):a===c?(e.lines.push(a),i.index++,o.index++):F(e,O(i),O(o));else $(e,i,o)}P(e,i),P(e,o),S(e)}function $(e,t,r){var n,s,i=O(t),o=O(r);if(z(i)&&z(o)){var a,c;if(A(i,o)&&U(r,i,i.length-o.length))return void(a=e.lines).push.apply(a,f(i));if(A(o,i)&&U(t,o,o.length-i.length))return void(c=e.lines).push.apply(c,f(o))}else if(s=o,(n=i).length===s.length&&A(n,s)){var u;return void(u=e.lines).push.apply(u,f(i))}F(e,i,o)}function q(e,t,r,n){var s,i=O(t),o=function(e,t){for(var r=[],n=[],s=0,i=!1,o=!1;s<t.length&&e.index<e.lines.length;){var a=e.lines[e.index],c=t[s];if("+"===c[0])break;if(i=i||" "!==a[0],n.push(c),s++,"+"===a[0])for(o=!0;"+"===a[0];)r.push(a),a=e.lines[++e.index];c.substr(1)===a.substr(1)?(r.push(a),e.index++):o=!0}if("+"===(t[s]||"")[0]&&i&&(o=!0),o)return r;for(;s<t.length;)n.push(t[s++]);return{merged:n,changes:r}}(r,i);o.merged?(s=e.lines).push.apply(s,f(o.merged)):F(e,n?o:i,n?i:o)}function F(e,t,r){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:r})}function N(e,t,r){for(;t.offset<r.offset&&t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n),t.offset++}}function P(e,t){for(;t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r)}}function O(e){for(var t=[],r=e.lines[e.index][0];e.index<e.lines.length;){var n=e.lines[e.index];if("-"===r&&"+"===n[0]&&(r="+"),r!==n[0])break;t.push(n),e.index++}return t}function z(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function U(e,t,r){for(var n=0;n<r;n++){var s=t[t.length-r+n].substr(1);if(e.lines[e.index+n]!==" "+s)return!1}return e.index+=r,!0}v.tokenize=function(e){return e.slice()},v.join=v.removeEmpty=function(e){return e},e.Diff=t,e.applyPatch=x,e.applyPatches=function(e,t){"string"==typeof e&&(e=y(e));var r=0;!function n(){var s=e[r++];if(!s)return t.complete();t.loadFile(s,(function(e,r){if(e)return t.complete(e);var i=x(r,s,t);t.patched(s,i,(function(e){if(e)return t.complete(e);n()}))}))}()},e.canonicalize=_,e.convertChangesToDMP=function(e){for(var t,r,n=[],s=0;s<e.length;s++)r=(t=e[s]).added?1:t.removed?-1:0,n.push([r,t.value]);return n},e.convertChangesToXML=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n.added?t.push("<ins>"):n.removed&&t.push("<del>"),t.push((s=n.value,void 0,s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),n.added?t.push("</ins>"):n.removed&&t.push("</del>")}var s;return t.join("")},e.createPatch=function(e,t,r,n,s,i){return C(e,e,t,r,n,s,i)},e.createTwoFilesPatch=C,e.diffArrays=function(e,t,r){return v.diff(e,t,r)},e.diffChars=function(e,t,r){return s.diff(e,t,r)},e.diffCss=function(e,t,r){return h.diff(e,t,r)},e.diffJson=function(e,t,r){return b.diff(e,t,r)},e.diffLines=l,e.diffSentences=function(e,t,r){return p.diff(e,t,r)},e.diffTrimmedLines=function(e,t,r){var n=i(r,{ignoreWhitespace:!0});return u.diff(e,t,n)},e.diffWords=function(e,t,r){return r=i(r,{ignoreWhitespace:!0}),c.diff(e,t,r)},e.diffWordsWithSpace=function(e,t,r){return c.diff(e,t,r)},e.merge=function(e,t,r){e=E(e,r),t=E(t,r);var n={};(e.index||t.index)&&(n.index=e.index||t.index),(e.newFileName||t.newFileName)&&(D(e)?D(t)?(n.oldFileName=I(n,e.oldFileName,t.oldFileName),n.newFileName=I(n,e.newFileName,t.newFileName),n.oldHeader=I(n,e.oldHeader,t.oldHeader),n.newHeader=I(n,e.newHeader,t.newHeader)):(n.oldFileName=e.oldFileName,n.newFileName=e.newFileName,n.oldHeader=e.oldHeader,n.newHeader=e.newHeader):(n.oldFileName=t.oldFileName||e.oldFileName,n.newFileName=t.newFileName||e.newFileName,n.oldHeader=t.oldHeader||e.oldHeader,n.newHeader=t.newHeader||e.newHeader)),n.hunks=[];for(var s=0,i=0,o=0,a=0;s<e.hunks.length||i<t.hunks.length;){var c=e.hunks[s]||{oldStart:1/0},u=t.hunks[i]||{oldStart:1/0};if(L(c,u))n.hunks.push(j(c,o)),s++,a+=c.newLines-c.oldLines;else if(L(u,c))n.hunks.push(j(u,a)),i++,o+=u.newLines-u.oldLines;else{var l={oldStart:Math.min(c.oldStart,u.oldStart),oldLines:0,newStart:Math.min(c.newStart+o,u.oldStart+a),newLines:0,lines:[]};T(l,c.oldStart,c.lines,u.oldStart,u.lines),i++,s++,n.hunks.push(l)}}return n},e.parsePatch=y,e.structuredPatch=k,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){"use strict";var n=r(9),s=r(48),i=r(52),o=r(53),a=r(61),c=r(75),u=r(88),l=r(32),p=r(90),h={default:r(93),zero:r(94),commonmark:r(95)},d=/^(vbscript|javascript|file|data):/,f=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!d.test(t)||!!f.test(t)}var g=["http:","https:","mailto:"];function b(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=p.toASCII(t.hostname)}catch(e){}return l.encode(l.format(t))}function _(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=p.toUnicode(t.hostname)}catch(e){}return l.decode(l.format(t),l.decode.defaultChars+"%")}function v(e,t){if(!(this instanceof v))return new v(e,t);t||n.isString(e)||(t=e||{},e="default"),this.inline=new c,this.block=new a,this.core=new o,this.renderer=new i,this.linkify=new u,this.validateLink=m,this.normalizeLink=b,this.normalizeLinkText=_,this.utils=n,this.helpers=n.assign({},s),this.options={},this.configure(e),t&&this.set(t)}v.prototype.set=function(e){return n.assign(this.options,e),this},v.prototype.configure=function(e){var t,r=this;if(n.isString(e)&&!(e=h[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&r.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&r[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&r[t].ruler2.enableOnly(e.components[t].rules2)})),this},v.prototype.enable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){r=r.concat(this[t].ruler.enable(e,!0))}),this),r=r.concat(this.inline.ruler2.enable(e,!0));var n=e.filter((function(e){return r.indexOf(e)<0}));if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},v.prototype.disable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){r=r.concat(this[t].ruler.disable(e,!0))}),this),r=r.concat(this.inline.ruler2.disable(e,!0));var n=e.filter((function(e){return r.indexOf(e)<0}));if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},v.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},v.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var r=new this.core.State(e,this,t);return this.core.process(r),r.tokens},v.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},v.prototype.parseInline=function(e,t){var r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens},v.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=v},function(e,t){e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},function(e,t,r){"use strict";var n={};function s(e,t,r){var i,o,a,c,u,l="";for("string"!=typeof t&&(r=t,t=s.defaultChars),void 0===r&&(r=!0),u=function(e){var t,r,s=n[e];if(s)return s;for(s=n[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?s.push(r):s.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)s[e.charCodeAt(t)]=e[t];return s}(t),i=0,o=e.length;i<o;i++)if(a=e.charCodeAt(i),r&&37===a&&i+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))l+=e.slice(i,i+3),i+=2;else if(a<128)l+=u[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&i+1<o&&(c=e.charCodeAt(i+1))>=56320&&c<=57343){l+=encodeURIComponent(e[i]+e[i+1]),i++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[i]);return l}s.defaultChars=";/?:@&=+$,-_.!~*'()#",s.componentChars="-_.!~*'()",e.exports=s},function(e,t,r){"use strict";var n={};function s(e,t){var r;return"string"!=typeof t&&(t=s.defaultChars),r=function(e){var t,r,s=n[e];if(s)return s;for(s=n[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),s.push(r);for(t=0;t<e.length;t++)s[r=e.charCodeAt(t)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return s}(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,n,s,i,o,a,c,u="";for(t=0,n=e.length;t<n;t+=3)(s=parseInt(e.slice(t+1,t+3),16))<128?u+=r[s]:192==(224&s)&&t+3<n&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(u+=(c=s<<6&1984|63&i)<128?"��":String.fromCharCode(c),t+=3):224==(240&s)&&t+6<n&&(i=parseInt(e.slice(t+4,t+6),16),o=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&o))?(u+=(c=s<<12&61440|i<<6&4032|63&o)<2048||c>=55296&&c<=57343?"���":String.fromCharCode(c),t+=6):240==(248&s)&&t+9<n&&(i=parseInt(e.slice(t+4,t+6),16),o=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&o)&&128==(192&a))?((c=s<<18&1835008|i<<12&258048|o<<6&4032|63&a)<65536||c>1114111?u+="����":(c-=65536,u+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):u+="�";return u}))}s.defaultChars=";/?:@&=+$,#",s.componentChars="",e.exports=s},function(e,t,r){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var s=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(a),u=["%","/","?",";","#"].concat(c),l=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(e,t){var r,n,i,a,c,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var g=o.exec(m);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var b=s.exec(m);if(b&&(i=(b=b[0]).toLowerCase(),this.protocol=b,m=m.substr(b.length)),(t||b||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(c="//"===m.substr(0,2))||b&&d[b]||(m=m.substr(2),this.slashes=!0)),!d[b]&&(c||b&&!f[b])){var _,v,y=-1;for(r=0;r<l.length;r++)-1!==(a=m.indexOf(l[r]))&&(-1===y||a<y)&&(y=a);for(-1!==(v=-1===y?m.lastIndexOf("@"):m.lastIndexOf("@",y))&&(_=m.slice(0,v),m=m.slice(v+1),this.auth=_),y=-1,r=0;r<u.length;r++)-1!==(a=m.indexOf(u[r]))&&(-1===y||a<y)&&(y=a);-1===y&&(y=m.length),":"===m[y-1]&&y--;var w=m.slice(0,y);m=m.slice(y),this.parseHost(w),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x){var k=this.hostname.split(/\./);for(r=0,n=k.length;r<n;r++){var C=k[r];if(C&&!C.match(p)){for(var A="",S=0,E=C.length;S<E;S++)C.charCodeAt(S)>127?A+="x":A+=C[S];if(!A.match(p)){var D=k.slice(0,r),I=k.slice(r+1),L=C.match(h);L&&(D.push(L[1]),I.unshift(L[2])),I.length&&(m=I.join(".")+m),this.hostname=D.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var j=m.indexOf("#");-1!==j&&(this.hash=m.substr(j),m=m.slice(0,j));var T=m.indexOf("?");return-1!==T&&(this.search=m.substr(T),m=m.slice(0,T)),m&&(this.pathname=m),f[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof n)return e;var r=new n;return r.parse(e,t),r}},function(e,t,r){"use strict";t.Any=r(33),t.Cc=r(34),t.Cf=r(47),t.P=r(28),t.Z=r(35)},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,r){"use strict";t.parseLinkLabel=r(49),t.parseLinkDestination=r(50),t.parseLinkTitle=r(51)},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,s,i,o,a=-1,c=e.posMax,u=e.pos;for(e.pos=t+1,n=1;e.pos<c;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--n){s=!0;break}if(o=e.pos,e.md.inline.skipToken(e),91===i)if(o===e.pos-1)n++;else if(r)return e.pos=u,-1}return s&&(a=e.pos),e.pos=u,a}},function(e,t,r){"use strict";var n=r(9).unescapeAll;e.exports=function(e,t,r){var s,i,o=t,a={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<r;){if(10===(s=e.charCodeAt(t)))return a;if(60===s)return a;if(62===s)return a.pos=t+1,a.str=n(e.slice(o+1,t)),a.ok=!0,a;92===s&&t+1<r?t+=2:t++}return a}for(i=0;t<r&&32!==(s=e.charCodeAt(t))&&!(s<32||127===s);)if(92===s&&t+1<r){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===s&&++i>32)return a;if(41===s){if(0===i)break;i--}t++}return o===t||0!==i||(a.str=n(e.slice(o,t)),a.lines=0,a.pos=t,a.ok=!0),a}},function(e,t,r){"use strict";var n=r(9).unescapeAll;e.exports=function(e,t,r){var s,i,o=0,a=t,c={ok:!1,pos:0,lines:0,str:""};if(t>=r)return c;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return c;for(t++,40===i&&(i=41);t<r;){if((s=e.charCodeAt(t))===i)return c.pos=t+1,c.lines=o,c.str=n(e.slice(a+1,t)),c.ok=!0,c;if(40===s&&41===i)return c;10===s?o++:92===s&&t+1<r&&(t++,10===e.charCodeAt(t)&&o++),t++}return c}},function(e,t,r){"use strict";var n=r(9).assign,s=r(9).unescapeAll,i=r(9).escapeHtml,o={};function a(){this.rules=n({},o)}o.code_inline=function(e,t,r,n,s){var o=e[t];return"<code"+s.renderAttrs(o)+">"+i(e[t].content)+"</code>"},o.code_block=function(e,t,r,n,s){var o=e[t];return"<pre"+s.renderAttrs(o)+"><code>"+i(e[t].content)+"</code></pre>\n"},o.fence=function(e,t,r,n,o){var a,c,u,l,p,h=e[t],d=h.info?s(h.info).trim():"",f="",m="";return d&&(f=(u=d.split(/(\s+)/g))[0],m=u.slice(2).join("")),0===(a=r.highlight&&r.highlight(h.content,f,m)||i(h.content)).indexOf("<pre")?a+"\n":d?(c=h.attrIndex("class"),l=h.attrs?h.attrs.slice():[],c<0?l.push(["class",r.langPrefix+f]):(l[c]=l[c].slice(),l[c][1]+=" "+r.langPrefix+f),p={attrs:l},"<pre><code"+o.renderAttrs(p)+">"+a+"</code></pre>\n"):"<pre><code"+o.renderAttrs(h)+">"+a+"</code></pre>\n"},o.image=function(e,t,r,n,s){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=s.renderInlineAsText(i.children,r,n),s.renderToken(e,t,r)},o.hardbreak=function(e,t,r){return r.xhtmlOut?"<br />\n":"<br>\n"},o.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?"<br />\n":"<br>\n":"\n"},o.text=function(e,t){return i(e[t].content)},o.html_block=function(e,t){return e[t].content},o.html_inline=function(e,t){return e[t].content},a.prototype.renderAttrs=function(e){var t,r,n;if(!e.attrs)return"";for(n="",t=0,r=e.attrs.length;t<r;t++)n+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return n},a.prototype.renderToken=function(e,t,r){var n,s="",i=!1,o=e[t];return o.hidden?"":(o.block&&-1!==o.nesting&&t&&e[t-1].hidden&&(s+="\n"),s+=(-1===o.nesting?"</":"<")+o.tag,s+=this.renderAttrs(o),0===o.nesting&&r.xhtmlOut&&(s+=" /"),o.block&&(i=!0,1===o.nesting&&t+1<e.length&&("inline"===(n=e[t+1]).type||n.hidden||-1===n.nesting&&n.tag===o.tag)&&(i=!1)),s+=i?">\n":">")},a.prototype.renderInline=function(e,t,r){for(var n,s="",i=this.rules,o=0,a=e.length;o<a;o++)void 0!==i[n=e[o].type]?s+=i[n](e,o,t,r,this):s+=this.renderToken(e,o,t);return s},a.prototype.renderInlineAsText=function(e,t,r){for(var n="",s=0,i=e.length;s<i;s++)"text"===e[s].type?n+=e[s].content:"image"===e[s].type?n+=this.renderInlineAsText(e[s].children,t,r):"softbreak"===e[s].type&&(n+="\n");return n},a.prototype.render=function(e,t,r){var n,s,i,o="",a=this.rules;for(n=0,s=e.length;n<s;n++)"inline"===(i=e[n].type)?o+=this.renderInline(e[n].children,t,r):void 0!==a[i]?o+=a[e[n].type](e,n,t,r,this):o+=this.renderToken(e,n,t,r);return o},e.exports=a},function(e,t,r){"use strict";var n=r(29),s=[["normalize",r(54)],["block",r(55)],["inline",r(56)],["linkify",r(57)],["replacements",r(58)],["smartquotes",r(59)]];function i(){this.ruler=new n;for(var e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1])}i.prototype.process=function(e){var t,r,n;for(t=0,r=(n=this.ruler.getRules("")).length;t<r;t++)n[t](e)},i.prototype.State=r(60),e.exports=i},function(e,t,r){"use strict";var n=/\r\n?|\n/g,s=/\0/g;e.exports=function(e){var t;t=(t=e.src.replace(n,"\n")).replace(s,"�"),e.src=t}},function(e,t,r){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,r){"use strict";e.exports=function(e){var t,r,n,s=e.tokens;for(r=0,n=s.length;r<n;r++)"inline"===(t=s[r]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,r){"use strict";var n=r(9).arrayReplaceAt;function s(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,r,i,o,a,c,u,l,p,h,d,f,m,g,b,_,v,y,w=e.tokens;if(e.md.options.linkify)for(r=0,i=w.length;r<i;r++)if("inline"===w[r].type&&e.md.linkify.pretest(w[r].content))for(m=0,t=(o=w[r].children).length-1;t>=0;t--)if("link_close"!==(c=o[t]).type){if("html_inline"===c.type&&(y=c.content,/^<a[>\s]/i.test(y)&&m>0&&m--,s(c.content)&&m++),!(m>0)&&"text"===c.type&&e.md.linkify.test(c.content)){for(p=c.content,v=e.md.linkify.match(p),u=[],f=c.level,d=0,l=0;l<v.length;l++)g=v[l].url,b=e.md.normalizeLink(g),e.md.validateLink(b)&&(_=v[l].text,_=v[l].schema?"mailto:"!==v[l].schema||/^mailto:/i.test(_)?e.md.normalizeLinkText(_):e.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,""),(h=v[l].index)>d&&((a=new e.Token("text","",0)).content=p.slice(d,h),a.level=f,u.push(a)),(a=new e.Token("link_open","a",1)).attrs=[["href",b]],a.level=f++,a.markup="linkify",a.info="auto",u.push(a),(a=new e.Token("text","",0)).content=_,a.level=f,u.push(a),(a=new e.Token("link_close","a",-1)).level=--f,a.markup="linkify",a.info="auto",u.push(a),d=v[l].lastIndex);d<p.length&&((a=new e.Token("text","",0)).content=p.slice(d),a.level=f,u.push(a)),w[r].children=o=n(o,t,u)}}else for(t--;o[t].level!==c.level&&"link_open"!==o[t].type;)t--}},function(e,t,r){"use strict";var n=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,s=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,o={c:"©",r:"®",p:"§",tm:"™"};function a(e,t){return o[t.toLowerCase()]}function c(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||n||(r.content=r.content.replace(i,a)),"link_open"===r.type&&"auto"===r.info&&n--,"link_close"===r.type&&"auto"===r.info&&n++}function u(e){var t,r,s=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||s||n.test(r.content)&&(r.content=r.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===r.type&&"auto"===r.info&&s--,"link_close"===r.type&&"auto"===r.info&&s++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(s.test(e.tokens[t].content)&&c(e.tokens[t].children),n.test(e.tokens[t].content)&&u(e.tokens[t].children))}},function(e,t,r){"use strict";var n=r(9).isWhiteSpace,s=r(9).isPunctChar,i=r(9).isMdAsciiPunct,o=/['"]/,a=/['"]/g;function c(e,t,r){return e.substr(0,t)+r+e.substr(t+1)}function u(e,t){var r,o,u,l,p,h,d,f,m,g,b,_,v,y,w,x,k,C,A,S,E;for(A=[],r=0;r<e.length;r++){for(o=e[r],d=e[r].level,k=A.length-1;k>=0&&!(A[k].level<=d);k--);if(A.length=k+1,"text"===o.type){p=0,h=(u=o.content).length;e:for(;p<h&&(a.lastIndex=p,l=a.exec(u));){if(w=x=!0,p=l.index+1,C="'"===l[0],m=32,l.index-1>=0)m=u.charCodeAt(l.index-1);else for(k=r-1;k>=0&&("softbreak"!==e[k].type&&"hardbreak"!==e[k].type);k--)if(e[k].content){m=e[k].content.charCodeAt(e[k].content.length-1);break}if(g=32,p<h)g=u.charCodeAt(p);else for(k=r+1;k<e.length&&("softbreak"!==e[k].type&&"hardbreak"!==e[k].type);k++)if(e[k].content){g=e[k].content.charCodeAt(0);break}if(b=i(m)||s(String.fromCharCode(m)),_=i(g)||s(String.fromCharCode(g)),v=n(m),(y=n(g))?w=!1:_&&(v||b||(w=!1)),v?x=!1:b&&(y||_||(x=!1)),34===g&&'"'===l[0]&&m>=48&&m<=57&&(x=w=!1),w&&x&&(w=b,x=_),w||x){if(x)for(k=A.length-1;k>=0&&(f=A[k],!(A[k].level<d));k--)if(f.single===C&&A[k].level===d){f=A[k],C?(S=t.md.options.quotes[2],E=t.md.options.quotes[3]):(S=t.md.options.quotes[0],E=t.md.options.quotes[1]),o.content=c(o.content,l.index,E),e[f.token].content=c(e[f.token].content,f.pos,S),p+=E.length-1,f.token===r&&(p+=S.length-1),h=(u=o.content).length,A.length=k;continue e}w?A.push({token:r,pos:l.index,single:C,level:d}):x&&C&&(o.content=c(o.content,l.index,"’"))}else C&&(o.content=c(o.content,l.index,"’"))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&o.test(e.tokens[t].content)&&u(e.tokens[t].children,e)}},function(e,t,r){"use strict";var n=r(30);function s(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}s.prototype.Token=n,e.exports=s},function(e,t,r){"use strict";var n=r(29),s=[["table",r(62),["paragraph","reference"]],["code",r(63)],["fence",r(64),["paragraph","reference","blockquote","list"]],["blockquote",r(65),["paragraph","reference","blockquote","list"]],["hr",r(66),["paragraph","reference","blockquote","list"]],["list",r(67),["paragraph","reference","blockquote"]],["reference",r(68)],["html_block",r(69),["paragraph","reference","blockquote"]],["heading",r(71),["paragraph","reference","blockquote"]],["lheading",r(72)],["paragraph",r(73)]];function i(){this.ruler=new n;for(var e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1],{alt:(s[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,r){for(var n,s=this.ruler.getRules(""),i=s.length,o=t,a=!1,c=e.md.options.maxNesting;o<r&&(e.line=o=e.skipEmptyLines(o),!(o>=r))&&!(e.sCount[o]<e.blkIndent);){if(e.level>=c){e.line=r;break}for(n=0;n<i&&!s[n](e,o,r,!1);n++);e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(o=e.line)<r&&e.isEmpty(o)&&(a=!0,o++,e.line=o)}},i.prototype.parse=function(e,t,r,n){var s;e&&(s=new this.State(e,t,r,n),this.tokenize(s,s.line,s.lineMax))},i.prototype.State=r(74),e.exports=i},function(e,t,r){"use strict";var n=r(9).isSpace;function s(e,t){var r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.substr(r,n-r)}function i(e){var t,r=[],n=0,s=e.length,i=!1,o=0,a="";for(t=e.charCodeAt(n);n<s;)124===t&&(i?(a+=e.substring(o,n-1),o=n):(r.push(a+e.substring(o,n)),a="",o=n+1)),i=92===t,n++,t=e.charCodeAt(n);return r.push(a+e.substring(o)),r}e.exports=function(e,t,r,o){var a,c,u,l,p,h,d,f,m,g,b,_,v,y,w,x,k,C;if(t+2>r)return!1;if(h=t+1,e.sCount[h]<e.blkIndent)return!1;if(e.sCount[h]-e.blkIndent>=4)return!1;if((u=e.bMarks[h]+e.tShift[h])>=e.eMarks[h])return!1;if(124!==(k=e.src.charCodeAt(u++))&&45!==k&&58!==k)return!1;if(u>=e.eMarks[h])return!1;if(124!==(C=e.src.charCodeAt(u++))&&45!==C&&58!==C&&!n(C))return!1;if(45===k&&n(C))return!1;for(;u<e.eMarks[h];){if(124!==(a=e.src.charCodeAt(u))&&45!==a&&58!==a&&!n(a))return!1;u++}for(d=(c=s(e,t+1)).split("|"),g=[],l=0;l<d.length;l++){if(!(b=d[l].trim())){if(0===l||l===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;58===b.charCodeAt(b.length-1)?g.push(58===b.charCodeAt(0)?"center":"right"):58===b.charCodeAt(0)?g.push("left"):g.push("")}if(-1===(c=s(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((d=i(c)).length&&""===d[0]&&d.shift(),d.length&&""===d[d.length-1]&&d.pop(),0===(f=d.length)||f!==g.length)return!1;if(o)return!0;for(y=e.parentType,e.parentType="table",x=e.md.block.ruler.getRules("blockquote"),(m=e.push("table_open","table",1)).map=_=[t,0],(m=e.push("thead_open","thead",1)).map=[t,t+1],(m=e.push("tr_open","tr",1)).map=[t,t+1],l=0;l<d.length;l++)m=e.push("th_open","th",1),g[l]&&(m.attrs=[["style","text-align:"+g[l]]]),(m=e.push("inline","",0)).content=d[l].trim(),m.children=[],m=e.push("th_close","th",-1);for(m=e.push("tr_close","tr",-1),m=e.push("thead_close","thead",-1),h=t+2;h<r&&!(e.sCount[h]<e.blkIndent);h++){for(w=!1,l=0,p=x.length;l<p;l++)if(x[l](e,h,r,!0)){w=!0;break}if(w)break;if(!(c=s(e,h).trim()))break;if(e.sCount[h]-e.blkIndent>=4)break;for((d=i(c)).length&&""===d[0]&&d.shift(),d.length&&""===d[d.length-1]&&d.pop(),h===t+2&&((m=e.push("tbody_open","tbody",1)).map=v=[t+2,0]),(m=e.push("tr_open","tr",1)).map=[h,h+1],l=0;l<f;l++)m=e.push("td_open","td",1),g[l]&&(m.attrs=[["style","text-align:"+g[l]]]),(m=e.push("inline","",0)).content=d[l]?d[l].trim():"",m.children=[],m=e.push("td_close","td",-1);m=e.push("tr_close","tr",-1)}return v&&(m=e.push("tbody_close","tbody",-1),v[1]=h),m=e.push("table_close","table",-1),_[1]=h,e.parentType=y,e.line=h,!0}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,s,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(s=n=t+1;n<r;)if(e.isEmpty(n))n++;else{if(!(e.sCount[n]-e.blkIndent>=4))break;s=++n}return e.line=s,(i=e.push("code_block","code",0)).content=e.getLines(t,s,4+e.blkIndent,!0),i.map=[t,e.line],!0}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){var s,i,o,a,c,u,l,p=!1,h=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(h+3>d)return!1;if(126!==(s=e.src.charCodeAt(h))&&96!==s)return!1;if(c=h,(i=(h=e.skipChars(h,s))-c)<3)return!1;if(l=e.src.slice(c,h),o=e.src.slice(h,d),96===s&&o.indexOf(String.fromCharCode(s))>=0)return!1;if(n)return!0;for(a=t;!(++a>=r)&&!((h=c=e.bMarks[a]+e.tShift[a])<(d=e.eMarks[a])&&e.sCount[a]<e.blkIndent);)if(e.src.charCodeAt(h)===s&&!(e.sCount[a]-e.blkIndent>=4||(h=e.skipChars(h,s))-c<i||(h=e.skipSpaces(h))<d)){p=!0;break}return i=e.sCount[t],e.line=a+(p?1:0),(u=e.push("fence","code",0)).info=o,u.content=e.getLines(t+1,a,i,!0),u.markup=l,u.map=[t,e.line],!0}},function(e,t,r){"use strict";var n=r(9).isSpace;e.exports=function(e,t,r,s){var i,o,a,c,u,l,p,h,d,f,m,g,b,_,v,y,w,x,k,C,A=e.lineMax,S=e.bMarks[t]+e.tShift[t],E=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(S++))return!1;if(s)return!0;for(c=d=e.sCount[t]+1,32===e.src.charCodeAt(S)?(S++,c++,d++,i=!1,y=!0):9===e.src.charCodeAt(S)?(y=!0,(e.bsCount[t]+d)%4==3?(S++,c++,d++,i=!1):i=!0):y=!1,f=[e.bMarks[t]],e.bMarks[t]=S;S<E&&(o=e.src.charCodeAt(S),n(o));)9===o?d+=4-(d+e.bsCount[t]+(i?1:0))%4:d++,S++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(y?1:0),l=S>=E,_=[e.sCount[t]],e.sCount[t]=d-c,v=[e.tShift[t]],e.tShift[t]=S-e.bMarks[t],x=e.md.block.ruler.getRules("blockquote"),b=e.parentType,e.parentType="blockquote",h=t+1;h<r&&(C=e.sCount[h]<e.blkIndent,!((S=e.bMarks[h]+e.tShift[h])>=(E=e.eMarks[h])));h++)if(62!==e.src.charCodeAt(S++)||C){if(l)break;for(w=!1,a=0,u=x.length;a<u;a++)if(x[a](e,h,r,!0)){w=!0;break}if(w){e.lineMax=h,0!==e.blkIndent&&(f.push(e.bMarks[h]),m.push(e.bsCount[h]),v.push(e.tShift[h]),_.push(e.sCount[h]),e.sCount[h]-=e.blkIndent);break}f.push(e.bMarks[h]),m.push(e.bsCount[h]),v.push(e.tShift[h]),_.push(e.sCount[h]),e.sCount[h]=-1}else{for(c=d=e.sCount[h]+1,32===e.src.charCodeAt(S)?(S++,c++,d++,i=!1,y=!0):9===e.src.charCodeAt(S)?(y=!0,(e.bsCount[h]+d)%4==3?(S++,c++,d++,i=!1):i=!0):y=!1,f.push(e.bMarks[h]),e.bMarks[h]=S;S<E&&(o=e.src.charCodeAt(S),n(o));)9===o?d+=4-(d+e.bsCount[h]+(i?1:0))%4:d++,S++;l=S>=E,m.push(e.bsCount[h]),e.bsCount[h]=e.sCount[h]+1+(y?1:0),_.push(e.sCount[h]),e.sCount[h]=d-c,v.push(e.tShift[h]),e.tShift[h]=S-e.bMarks[h]}for(g=e.blkIndent,e.blkIndent=0,(k=e.push("blockquote_open","blockquote",1)).markup=">",k.map=p=[t,0],e.md.block.tokenize(e,t,h),(k=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=A,e.parentType=b,p[1]=e.line,a=0;a<v.length;a++)e.bMarks[a+t]=f[a],e.tShift[a+t]=v[a],e.sCount[a+t]=_[a],e.bsCount[a+t]=m[a];return e.blkIndent=g,!0}},function(e,t,r){"use strict";var n=r(9).isSpace;e.exports=function(e,t,r,s){var i,o,a,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(u++))&&45!==i&&95!==i)return!1;for(o=1;u<l;){if((a=e.src.charCodeAt(u++))!==i&&!n(a))return!1;a===i&&o++}return!(o<3)&&(s||(e.line=t+1,(c=e.push("hr","hr",0)).map=[t,e.line],c.markup=Array(o+1).join(String.fromCharCode(i))),!0)}},function(e,t,r){"use strict";var n=r(9).isSpace;function s(e,t){var r,s,i,o;return s=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(r=e.src.charCodeAt(s++))&&45!==r&&43!==r||s<i&&(o=e.src.charCodeAt(s),!n(o))?-1:s}function i(e,t){var r,s=e.bMarks[t]+e.tShift[t],i=s,o=e.eMarks[t];if(i+1>=o)return-1;if((r=e.src.charCodeAt(i++))<48||r>57)return-1;for(;;){if(i>=o)return-1;if(!((r=e.src.charCodeAt(i++))>=48&&r<=57)){if(41===r||46===r)break;return-1}if(i-s>=10)return-1}return i<o&&(r=e.src.charCodeAt(i),!n(r))?-1:i}e.exports=function(e,t,r,n){var o,a,c,u,l,p,h,d,f,m,g,b,_,v,y,w,x,k,C,A,S,E,D,I,L,j,T,$,q=!1,F=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(n&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(q=!0),(D=i(e,t))>=0){if(h=!0,L=e.bMarks[t]+e.tShift[t],_=Number(e.src.substr(L,D-L-1)),q&&1!==_)return!1}else{if(!((D=s(e,t))>=0))return!1;h=!1}if(q&&e.skipSpaces(D)>=e.eMarks[t])return!1;if(b=e.src.charCodeAt(D-1),n)return!0;for(g=e.tokens.length,h?($=e.push("ordered_list_open","ol",1),1!==_&&($.attrs=[["start",_]])):$=e.push("bullet_list_open","ul",1),$.map=m=[t,0],$.markup=String.fromCharCode(b),y=t,I=!1,T=e.md.block.ruler.getRules("list"),k=e.parentType,e.parentType="list";y<r;){for(E=D,v=e.eMarks[y],p=w=e.sCount[y]+D-(e.bMarks[t]+e.tShift[t]);E<v;){if(9===(o=e.src.charCodeAt(E)))w+=4-(w+e.bsCount[y])%4;else{if(32!==o)break;w++}E++}if((l=(a=E)>=v?1:w-p)>4&&(l=1),u=p+l,($=e.push("list_item_open","li",1)).markup=String.fromCharCode(b),$.map=d=[t,0],S=e.tight,A=e.tShift[t],C=e.sCount[t],x=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=u,e.tight=!0,e.tShift[t]=a-e.bMarks[t],e.sCount[t]=w,a>=v&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,t,r,!0),e.tight&&!I||(F=!1),I=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=x,e.tShift[t]=A,e.sCount[t]=C,e.tight=S,($=e.push("list_item_close","li",-1)).markup=String.fromCharCode(b),y=t=e.line,d[1]=y,a=e.bMarks[t],y>=r)break;if(e.sCount[y]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(j=!1,c=0,f=T.length;c<f;c++)if(T[c](e,y,r,!0)){j=!0;break}if(j)break;if(h){if((D=i(e,y))<0)break}else if((D=s(e,y))<0)break;if(b!==e.src.charCodeAt(D-1))break}return($=h?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(b),m[1]=y,e.line=y,e.parentType=k,F&&function(e,t){var r,n,s=e.level+2;for(r=t+2,n=e.tokens.length-2;r<n;r++)e.tokens[r].level===s&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,g),!0}},function(e,t,r){"use strict";var n=r(9).normalizeReference,s=r(9).isSpace;e.exports=function(e,t,r,i){var o,a,c,u,l,p,h,d,f,m,g,b,_,v,y,w,x=0,k=e.bMarks[t]+e.tShift[t],C=e.eMarks[t],A=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(k))return!1;for(;++k<C;)if(93===e.src.charCodeAt(k)&&92!==e.src.charCodeAt(k-1)){if(k+1===C)return!1;if(58!==e.src.charCodeAt(k+1))return!1;break}for(u=e.lineMax,y=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";A<u&&!e.isEmpty(A);A++)if(!(e.sCount[A]-e.blkIndent>3||e.sCount[A]<0)){for(v=!1,p=0,h=y.length;p<h;p++)if(y[p](e,A,u,!0)){v=!0;break}if(v)break}for(C=(_=e.getLines(t,A,e.blkIndent,!1).trim()).length,k=1;k<C;k++){if(91===(o=_.charCodeAt(k)))return!1;if(93===o){f=k;break}(10===o||92===o&&++k<C&&10===_.charCodeAt(k))&&x++}if(f<0||58!==_.charCodeAt(f+1))return!1;for(k=f+2;k<C;k++)if(10===(o=_.charCodeAt(k)))x++;else if(!s(o))break;if(!(g=e.md.helpers.parseLinkDestination(_,k,C)).ok)return!1;if(l=e.md.normalizeLink(g.str),!e.md.validateLink(l))return!1;for(a=k=g.pos,c=x+=g.lines,b=k;k<C;k++)if(10===(o=_.charCodeAt(k)))x++;else if(!s(o))break;for(g=e.md.helpers.parseLinkTitle(_,k,C),k<C&&b!==k&&g.ok?(w=g.str,k=g.pos,x+=g.lines):(w="",k=a,x=c);k<C&&(o=_.charCodeAt(k),s(o));)k++;if(k<C&&10!==_.charCodeAt(k)&&w)for(w="",k=a,x=c;k<C&&(o=_.charCodeAt(k),s(o));)k++;return!(k<C&&10!==_.charCodeAt(k))&&(!!(d=n(_.slice(1,f)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[d]&&(e.env.references[d]={title:w,href:l}),e.parentType=m,e.line=t+x+1),!0))}},function(e,t,r){"use strict";var n=r(70),s=r(36).HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(s.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,r,n){var s,o,a,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(c=e.src.slice(u,l),s=0;s<i.length&&!i[s][0].test(c);s++);if(s===i.length)return!1;if(n)return i[s][2];if(o=t+1,!i[s][1].test(c))for(;o<r&&!(e.sCount[o]<e.blkIndent);o++)if(u=e.bMarks[o]+e.tShift[o],l=e.eMarks[o],c=e.src.slice(u,l),i[s][1].test(c)){0!==c.length&&o++;break}return e.line=o,(a=e.push("html_block","",0)).map=[t,o],a.content=e.getLines(t,o,e.blkIndent,!0),!0}},function(e,t,r){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,r){"use strict";var n=r(9).isSpace;e.exports=function(e,t,r,s){var i,o,a,c,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(u))||u>=l)return!1;for(o=1,i=e.src.charCodeAt(++u);35===i&&u<l&&o<=6;)o++,i=e.src.charCodeAt(++u);return!(o>6||u<l&&!n(i))&&(s||(l=e.skipSpacesBack(l,u),(a=e.skipCharsBack(l,35,u))>u&&n(e.src.charCodeAt(a-1))&&(l=a),e.line=t+1,(c=e.push("heading_open","h"+String(o),1)).markup="########".slice(0,o),c.map=[t,e.line],(c=e.push("inline","",0)).content=e.src.slice(u,l).trim(),c.map=[t,e.line],c.children=[],(c=e.push("heading_close","h"+String(o),-1)).markup="########".slice(0,o)),!0)}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,s,i,o,a,c,u,l,p,h,d=t+1,f=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(h=e.parentType,e.parentType="paragraph";d<r&&!e.isEmpty(d);d++)if(!(e.sCount[d]-e.blkIndent>3)){if(e.sCount[d]>=e.blkIndent&&(c=e.bMarks[d]+e.tShift[d])<(u=e.eMarks[d])&&(45===(p=e.src.charCodeAt(c))||61===p)&&(c=e.skipChars(c,p),(c=e.skipSpaces(c))>=u)){l=61===p?1:2;break}if(!(e.sCount[d]<0)){for(s=!1,i=0,o=f.length;i<o;i++)if(f[i](e,d,r,!0)){s=!0;break}if(s)break}}return!!l&&(n=e.getLines(t,d,e.blkIndent,!1).trim(),e.line=d+1,(a=e.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(p),a.map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line-1],a.children=[],(a=e.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(p),e.parentType=h,!0)}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,s,i,o,a,c=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(a=e.parentType,e.parentType="paragraph";c<l&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3||e.sCount[c]<0)){for(n=!1,s=0,i=u.length;s<i;s++)if(u[s](e,c,l,!0)){n=!0;break}if(n)break}return r=e.getLines(t,c,e.blkIndent,!1).trim(),e.line=c,(o=e.push("paragraph_open","p",1)).map=[t,e.line],(o=e.push("inline","",0)).content=r,o.map=[t,e.line],o.children=[],o=e.push("paragraph_close","p",-1),e.parentType=a,!0}},function(e,t,r){"use strict";var n=r(30),s=r(9).isSpace;function i(e,t,r,n){var i,o,a,c,u,l,p,h;for(this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",h=!1,a=c=l=p=0,u=(o=this.src).length;c<u;c++){if(i=o.charCodeAt(c),!h){if(s(i)){l++,9===i?p+=4-p%4:p++;continue}h=!0}10!==i&&c!==u-1||(10!==i&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(l),this.sCount.push(p),this.bsCount.push(0),h=!1,l=0,p=0,a=c+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,r){var s=new n(e,t,r);return s.block=!0,r<0&&this.level--,s.level=this.level,r>0&&this.level++,this.tokens.push(s),s},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,r=this.src.length;e<r&&(t=this.src.charCodeAt(e),s(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!s(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var r=this.src.length;e<r&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,r){if(e<=r)return e;for(;e>r;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,r,n){var i,o,a,c,u,l,p,h=e;if(e>=t)return"";for(l=new Array(t-e),i=0;h<t;h++,i++){for(o=0,p=c=this.bMarks[h],u=h+1<t||n?this.eMarks[h]+1:this.eMarks[h];c<u&&o<r;){if(a=this.src.charCodeAt(c),s(a))9===a?o+=4-(o+this.bsCount[h])%4:o++;else{if(!(c-p<this.tShift[h]))break;o++}c++}l[i]=o>r?new Array(o-r+1).join(" ")+this.src.slice(c,u):this.src.slice(c,u)}return l.join("")},i.prototype.Token=n,e.exports=i},function(e,t,r){"use strict";var n=r(29),s=[["text",r(76)],["newline",r(77)],["escape",r(78)],["backticks",r(79)],["strikethrough",r(37).tokenize],["emphasis",r(38).tokenize],["link",r(80)],["image",r(81)],["autolink",r(82)],["html_inline",r(83)],["entity",r(84)]],i=[["balance_pairs",r(85)],["strikethrough",r(37).postProcess],["emphasis",r(38).postProcess],["text_collapse",r(86)]];function o(){var e;for(this.ruler=new n,e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1]);for(this.ruler2=new n,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}o.prototype.skipToken=function(e){var t,r,n=e.pos,s=this.ruler.getRules(""),i=s.length,o=e.md.options.maxNesting,a=e.cache;if(void 0===a[n]){if(e.level<o)for(r=0;r<i&&(e.level++,t=s[r](e,!0),e.level--,!t);r++);else e.pos=e.posMax;t||e.pos++,a[n]=e.pos}else e.pos=a[n]},o.prototype.tokenize=function(e){for(var t,r,n=this.ruler.getRules(""),s=n.length,i=e.posMax,o=e.md.options.maxNesting;e.pos<i;){if(e.level<o)for(r=0;r<s&&!(t=n[r](e,!1));r++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},o.prototype.parse=function(e,t,r,n){var s,i,o,a=new this.State(e,t,r,n);for(this.tokenize(a),o=(i=this.ruler2.getRules("")).length,s=0;s<o;s++)i[s](a)},o.prototype.State=r(87),e.exports=o},function(e,t,r){"use strict";function n(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var r=e.pos;r<e.posMax&&!n(e.src.charCodeAt(r));)r++;return r!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}},function(e,t,r){"use strict";var n=r(9).isSpace;e.exports=function(e,t){var r,s,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;for(r=e.pending.length-1,s=e.posMax,t||(r>=0&&32===e.pending.charCodeAt(r)?r>=1&&32===e.pending.charCodeAt(r-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),i++;i<s&&n(e.src.charCodeAt(i));)i++;return e.pos=i,!0}},function(e,t,r){"use strict";for(var n=r(9).isSpace,s=[],i=0;i<256;i++)s.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){s[e.charCodeAt(0)]=1})),e.exports=function(e,t){var r,i=e.pos,o=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<o){if((r=e.src.charCodeAt(i))<256&&0!==s[r])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===r){for(t||e.push("hardbreak","br",0),i++;i<o&&(r=e.src.charCodeAt(i),n(r));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,s,i,o,a,c,u,l=e.pos;if(96!==e.src.charCodeAt(l))return!1;for(r=l,l++,n=e.posMax;l<n&&96===e.src.charCodeAt(l);)l++;if(c=(s=e.src.slice(r,l)).length,e.backticksScanned&&(e.backticks[c]||0)<=r)return t||(e.pending+=s),e.pos+=c,!0;for(o=a=l;-1!==(o=e.src.indexOf("`",a));){for(a=o+1;a<n&&96===e.src.charCodeAt(a);)a++;if((u=a-o)===c)return t||((i=e.push("code_inline","code",0)).markup=s,i.content=e.src.slice(l,o).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=a,!0;e.backticks[u]=o}return e.backticksScanned=!0,t||(e.pending+=s),e.pos+=c,!0}},function(e,t,r){"use strict";var n=r(9).normalizeReference,s=r(9).isSpace;e.exports=function(e,t){var r,i,o,a,c,u,l,p,h="",d="",f=e.pos,m=e.posMax,g=e.pos,b=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,(a=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((u=a+1)<m&&40===e.src.charCodeAt(u)){for(b=!1,u++;u<m&&(i=e.src.charCodeAt(u),s(i)||10===i);u++);if(u>=m)return!1;if(g=u,(l=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok){for(h=e.md.normalizeLink(l.str),e.md.validateLink(h)?u=l.pos:h="",g=u;u<m&&(i=e.src.charCodeAt(u),s(i)||10===i);u++);if(l=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<m&&g!==u&&l.ok)for(d=l.str,u=l.pos;u<m&&(i=e.src.charCodeAt(u),s(i)||10===i);u++);}(u>=m||41!==e.src.charCodeAt(u))&&(b=!0),u++}if(b){if(void 0===e.env.references)return!1;if(u<m&&91===e.src.charCodeAt(u)?(g=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?o=e.src.slice(g,u++):u=a+1):u=a+1,o||(o=e.src.slice(c,a)),!(p=e.env.references[n(o)]))return e.pos=f,!1;h=p.href,d=p.title}return t||(e.pos=c,e.posMax=a,e.push("link_open","a",1).attrs=r=[["href",h]],d&&r.push(["title",d]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=u,e.posMax=m,!0}},function(e,t,r){"use strict";var n=r(9).normalizeReference,s=r(9).isSpace;e.exports=function(e,t){var r,i,o,a,c,u,l,p,h,d,f,m,g,b="",_=e.pos,v=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(u=e.pos+2,(c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((l=c+1)<v&&40===e.src.charCodeAt(l)){for(l++;l<v&&(i=e.src.charCodeAt(l),s(i)||10===i);l++);if(l>=v)return!1;for(g=l,(h=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(b=e.md.normalizeLink(h.str),e.md.validateLink(b)?l=h.pos:b=""),g=l;l<v&&(i=e.src.charCodeAt(l),s(i)||10===i);l++);if(h=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<v&&g!==l&&h.ok)for(d=h.str,l=h.pos;l<v&&(i=e.src.charCodeAt(l),s(i)||10===i);l++);else d="";if(l>=v||41!==e.src.charCodeAt(l))return e.pos=_,!1;l++}else{if(void 0===e.env.references)return!1;if(l<v&&91===e.src.charCodeAt(l)?(g=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?a=e.src.slice(g,l++):l=c+1):l=c+1,a||(a=e.src.slice(u,c)),!(p=e.env.references[n(a)]))return e.pos=_,!1;b=p.href,d=p.title}return t||(o=e.src.slice(u,c),e.md.inline.parse(o,e.md,e.env,m=[]),(f=e.push("image","img",0)).attrs=r=[["src",b],["alt",""]],f.children=m,f.content=o,d&&r.push(["title",d])),e.pos=l,e.posMax=v,!0}},function(e,t,r){"use strict";var n=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,s=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,t){var r,i,o,a,c,u,l=e.pos;if(60!==e.src.charCodeAt(l))return!1;for(c=e.pos,u=e.posMax;;){if(++l>=u)return!1;if(60===(a=e.src.charCodeAt(l)))return!1;if(62===a)break}return r=e.src.slice(c+1,l),s.test(r)?(i=e.md.normalizeLink(r),!!e.md.validateLink(i)&&(t||((o=e.push("link_open","a",1)).attrs=[["href",i]],o.markup="autolink",o.info="auto",(o=e.push("text","",0)).content=e.md.normalizeLinkText(r),(o=e.push("link_close","a",-1)).markup="autolink",o.info="auto"),e.pos+=r.length+2,!0)):!!n.test(r)&&(i=e.md.normalizeLink("mailto:"+r),!!e.md.validateLink(i)&&(t||((o=e.push("link_open","a",1)).attrs=[["href",i]],o.markup="autolink",o.info="auto",(o=e.push("text","",0)).content=e.md.normalizeLinkText(r),(o=e.push("link_close","a",-1)).markup="autolink",o.info="auto"),e.pos+=r.length+2,!0))}},function(e,t,r){"use strict";var n=r(36).HTML_TAG_RE;e.exports=function(e,t){var r,s,i,o=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(o)||o+2>=i)&&(!(33!==(r=e.src.charCodeAt(o+1))&&63!==r&&47!==r&&!function(e){var t=32|e;return t>=97&&t<=122}(r))&&(!!(s=e.src.slice(o).match(n))&&(t||(e.push("html_inline","",0).content=e.src.slice(o,o+s[0].length)),e.pos+=s[0].length,!0))))}},function(e,t,r){"use strict";var n=r(31),s=r(9).has,i=r(9).isValidEntityCode,o=r(9).fromCodePoint,a=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var r,u,l=e.pos,p=e.posMax;if(38!==e.src.charCodeAt(l))return!1;if(l+1<p)if(35===e.src.charCodeAt(l+1)){if(u=e.src.slice(l).match(a))return t||(r="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),e.pending+=i(r)?o(r):o(65533)),e.pos+=u[0].length,!0}else if((u=e.src.slice(l).match(c))&&s(n,u[1]))return t||(e.pending+=n[u[1]]),e.pos+=u[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,r){"use strict";function n(e,t){var r,n,s,i,o,a,c,u,l={},p=t.length;for(r=0;r<p;r++)if((s=t[r]).length=s.length||0,s.close){for(l.hasOwnProperty(s.marker)||(l[s.marker]=[-1,-1,-1]),o=l[s.marker][s.length%3],(n=r-s.jump-1)<-1&&(n=-1),a=n;n>o;n-=i.jump+1)if((i=t[n]).marker===s.marker&&i.open&&i.end<0&&(c=!1,(i.close||s.open)&&(i.length+s.length)%3==0&&(i.length%3==0&&s.length%3==0||(c=!0)),!c)){u=n>0&&!t[n-1].open?t[n-1].jump+1:0,s.jump=r-n+u,s.open=!1,i.end=r,i.jump=u,i.close=!1,a=-1;break}-1!==a&&(l[s.marker][(s.length||0)%3]=a)}}e.exports=function(e){var t,r=e.tokens_meta,s=e.tokens_meta.length;for(n(0,e.delimiters),t=0;t<s;t++)r[t]&&r[t].delimiters&&n(0,r[t].delimiters)}},function(e,t,r){"use strict";e.exports=function(e){var t,r,n=0,s=e.tokens,i=e.tokens.length;for(t=r=0;t<i;t++)s[t].nesting<0&&n--,s[t].level=n,s[t].nesting>0&&n++,"text"===s[t].type&&t+1<i&&"text"===s[t+1].type?s[t+1].content=s[t].content+s[t+1].content:(t!==r&&(s[r]=s[t]),r++);t!==r&&(s.length=r)}},function(e,t,r){"use strict";var n=r(30),s=r(9).isWhiteSpace,i=r(9).isPunctChar,o=r(9).isMdAsciiPunct;function a(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}a.prototype.pushPending=function(){var e=new n("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},a.prototype.push=function(e,t,r){this.pending&&this.pushPending();var s=new n(e,t,r),i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(i),s},a.prototype.scanDelims=function(e,t){var r,n,a,c,u,l,p,h,d,f=e,m=!0,g=!0,b=this.posMax,_=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;f<b&&this.src.charCodeAt(f)===_;)f++;return a=f-e,n=f<b?this.src.charCodeAt(f):32,p=o(r)||i(String.fromCharCode(r)),d=o(n)||i(String.fromCharCode(n)),l=s(r),(h=s(n))?m=!1:d&&(l||p||(m=!1)),l?g=!1:p&&(h||d||(g=!1)),t?(c=m,u=g):(c=m&&(!g||p),u=g&&(!m||d)),{can_open:c,can_close:u,length:a}},a.prototype.Token=n,e.exports=a},function(e,t,r){"use strict";function n(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(r){e[r]=t[r]}))})),e}function s(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===s(e)}function o(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var c={"http:":{validate:function(e,t,r){var n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function l(e){var t=e.re=r(89)(e.__opts__),n=e.__tlds__.slice();function a(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(a(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(a(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(a(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(a(t.tpl_host_fuzzy_test),"i");var c=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var r=e.__schemas__[t];if(null!==r){var n={validate:null,link:null};if(e.__compiled__[t]=n,"[object Object]"===s(r))return!function(e){return"[object RegExp]"===s(e)}(r.validate)?i(r.validate)?n.validate=r.validate:u(t,r):n.validate=function(e){return function(t,r){var n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}(r.validate),void(i(r.normalize)?n.normalize=r.normalize:r.normalize?u(t,r):n.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===s(e)}(r)?u(t,r):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var l=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(o).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function p(e,t){var r=e.__index__,n=e.__last_index__,s=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=s,this.text=s,this.url=s}function h(e,t){var r=new p(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function d(e,t){if(!(this instanceof d))return new d(e,t);var r;t||(r=e,Object.keys(r||{}).reduce((function(e,t){return e||a.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=n({},a,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},c,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},l(this)}d.prototype.add=function(e,t){return this.__schemas__[e]=t,l(this),this},d.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},d.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,r,n,s,i,o,a,c;if(this.re.schema_test.test(e))for((a=this.re.schema_search).lastIndex=0;null!==(t=a.exec(e));)if(s=this.testSchemaAt(e,t[2],a.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(i=n.index+n[1].length,o=n.index+n[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=o)),this.__index__>=0},d.prototype.pretest=function(e){return this.re.pretest.test(e)},d.prototype.testSchemaAt=function(e,t,r){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,r,this):0},d.prototype.match=function(e){var t=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(h(this,t)),t=this.__last_index__);for(var n=t?e.slice(t):e;this.test(n);)r.push(h(this,t)),n=n.slice(this.__last_index__),t+=this.__last_index__;return r.length?r:null},d.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,r){return e!==r[t-1]})).reverse(),l(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,l(this),this)},d.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},d.prototype.onCompile=function(){},e.exports=d},function(e,t,r){"use strict";e.exports=function(e){var t={};t.src_Any=r(33).source,t.src_Cc=r(34).source,t.src_Z=r(35).source,t.src_P=r(28).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,r){(function(e,n){var s;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n&&n;o.global!==o&&o.window!==o&&o.self;var a,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,f=String.fromCharCode;function m(e){throw new RangeError(h[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function b(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(p,".")).split("."),t).join(".")}function _(e){for(var t,r,n=[],s=0,i=e.length;s<i;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<i?56320==(64512&(r=e.charCodeAt(s++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),s--):n.push(t);return n}function v(e){return g(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function y(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=36)e=d(e/35);return d(n+36*e/(e+38))}function x(e){var t,r,n,s,i,o,a,u,l,p,h,f=[],g=e.length,b=0,_=128,y=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m("not-basic"),f.push(e.charCodeAt(n));for(s=r>0?r+1:0;s<g;){for(i=b,o=1,a=36;s>=g&&m("invalid-input"),((u=(h=e.charCodeAt(s++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||u>d((c-b)/o))&&m("overflow"),b+=u*o,!(u<(l=a<=y?1:a>=y+26?26:a-y));a+=36)o>d(c/(p=36-l))&&m("overflow"),o*=p;y=w(b-i,t=f.length+1,0==i),d(b/t)>c-_&&m("overflow"),_+=d(b/t),b%=t,f.splice(b++,0,_)}return v(f)}function k(e){var t,r,n,s,i,o,a,u,l,p,h,g,b,v,x,k=[];for(g=(e=_(e)).length,t=128,r=0,i=72,o=0;o<g;++o)(h=e[o])<128&&k.push(f(h));for(n=s=k.length,s&&k.push("-");n<g;){for(a=c,o=0;o<g;++o)(h=e[o])>=t&&h<a&&(a=h);for(a-t>d((c-r)/(b=n+1))&&m("overflow"),r+=(a-t)*b,t=a,o=0;o<g;++o)if((h=e[o])<t&&++r>c&&m("overflow"),h==t){for(u=r,l=36;!(u<(p=l<=i?1:l>=i+26?26:l-i));l+=36)x=u-p,v=36-p,k.push(f(y(p+x%v,0))),u=d(x/v);k.push(f(y(u,0))),i=w(r,b,n==s),r=0,++n}++r,++t}return k.join("")}a={version:"1.4.1",ucs2:{decode:_,encode:v},decode:x,encode:k,toASCII:function(e){return b(e,(function(e){return l.test(e)?"xn--"+k(e):e}))},toUnicode:function(e){return b(e,(function(e){return u.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(s=function(){return a}.call(t,r,t,e))||(e.exports=s)}()}).call(this,r(91)(e),r(92))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,r){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,r){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},,,,function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"EditorService",(function(){return i})),r.d(n,"IndexService",(function(){return p})),r.d(n,"ModelsService",(function(){return h})),r.d(n,"SampleService",(function(){return d})),r.d(n,"StatusService",(function(){return f})),r.d(n,"UploaderService",(function(){return m})),r.d(n,"WikiService",(function(){return X}));var s=r(3);class i extends s.i{get[Symbol.toStringTag](){return"EditorService"}decorator(){this.syntaxes=[new s.l("")],this.serviceInjection={status:f.prototype,index:p.prototype,models:h.prototype}}async checkBeforeSavingPage(e){return this.syntaxes[0].checkBeforeSavingPage(e)}replaceSyntax(e){return this.syntaxes[0].replaceSyntax(e)}async readPage(e){const t=this.serviceInjection.models;return await t.readPage(e).catch(t=>{if("Page:NotFound"===t.message)return new s.e(e,"Hello, World!",{});if("Page:PermissionError"!==t.message)throw t;alert("権限がありません.")})}async writePage(e){const t=this.serviceInjection.models;await t.writePage(e)}}var o=r(0),a=r(21),c=r(6),u=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return o.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(a.a),l=r(27);class p extends s.i{get[Symbol.toStringTag](){return"IndexService"}decorator(){this.serviceInjection={status:f.prototype,models:h.prototype,wiki:X.prototype,editor:i.prototype},this.siteHistory$=new u(null)}onStart(){const e=this,t=this.serviceInjection.status.status$.getValue();this.siteHistory$.pipe(Object(l.a)(e=>null!=e)).subscribe(t=>{var r;console.log("siteHistory$:",t),t.noHistory||window.history.pushState(t,t.appName+": "+t.pageURI,null),r=t,$(top.document.querySelector("title")).text(r.appName+": "+r.pageURI),e.serviceInjection.status.displayState$.next(`open ${r.appName} ${r.pageURI}`),"WikiApp"===r.appName?e.serviceInjection.wiki.pageURI$.next(r.pageURI):"Editor"===r.appName||console.log("対応アプリがありません.",r)}),$(top).on("popstate",(function(t){console.log("popstate:",history.state);if(history&&history.pushState&&void 0!==history.state){const t=e.serviceInjection.wiki.resolveURI(history.state.pageURI);e.executeAppWithoutHistoryAPI({appName:history.state.appName,pageURI:t})}})),t.load(),this.executeAppWithoutHistoryAPI(t._status.app)}executeApp(e){this.siteHistory$.next(e)}executeAppWithoutHistoryAPI(e){this.executeApp({...e,noHistory:!0})}}class h extends s.i{get[Symbol.toStringTag](){return"ModelsService"}decorator(){this.jwPages=[],this.serviceInjection={status:f.prototype}}async readPage(e){const t=this.serviceInjection.status.getCloud();let r;try{r=await t.getPage(e)}catch(e){throw e}return this.serviceInjection.status.displayState$.next("readPage "+e),r}async writePage(e){const t=this.serviceInjection.status.getCloud(),r=e;r.cloudObject?await t.putPage(r):await t.postPage(r),this.serviceInjection.status.displayState$.next("writePage "+r.pageURI)}async readPageHistory(){const e=this.serviceInjection.status.getCloud();return await e.getPageHistory()}}class d extends s.i{decorator(){this.event$=new u(null),this.serviceInjection={status:f.prototype,index:p.prototype,models:h.prototype}}}class f extends s.i{get[Symbol.toStringTag](){return"StatusService"}decorator(){this._cloud=new s.b,this._status=null,this.status$=new u(new s.f),this.user$=new u(null),this.status$.subscribe(e=>{this._status=e,this.user$.next(e._status.user)}),this.displayState$=new u(null)}getCloud(){return this._cloud}getUser(){return this.user$.getValue()}setUser(e){const t=this.status$.getValue();t._status.user=e,this.status$.next(t)}}class m extends s.i{get[Symbol.toStringTag](){return"UploaderService"}decorator(){this.event$=new u(null),this.serviceInjection={status:f.prototype,index:p.prototype,models:h.prototype}}toggleUploader(){this.event$.next("toggle")}}var g=r(2),b=r(19),_=r(7);function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var y=v(),w=r(16),x=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function k(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var C=r(18),A=function(e){if(e&&"function"==typeof e[w.a])return n=e,function(e){var t=n[w.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(x(e))return Object(b.a)(e);if(k(e))return r=e,function(e){return r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,_.a),e};if(e&&"function"==typeof e[y])return t=e,function(e){for(var r=t[y]();;){var n=void 0;try{n=r.next()}catch(t){return e.error(t),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof r.return&&e.add((function(){r.return&&r.return()})),e};var t,r,n,s=Object(C.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+s+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},S=r(4);var E=r(13);function D(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[w.a]}(e))return function(e,t){return new g.a((function(r){var n=new S.a;return n.add(t.schedule((function(){var s=e[w.a]();n.add(s.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))}))),n}))}(e,t);if(k(e))return function(e,t){return new g.a((function(r){var n=new S.a;return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){r.next(e),n.add(t.schedule((function(){return r.complete()})))})))}),(function(e){n.add(t.schedule((function(){return r.error(e)})))}))}))),n}))}(e,t);if(x(e))return Object(E.a)(e,t);if(function(e){return e&&"function"==typeof e[y]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new g.a((function(r){var n,s=new S.a;return s.add((function(){n&&"function"==typeof n.return&&n.return()})),s.add(t.schedule((function(){n=e[y](),s.add(t.schedule((function(){if(!r.closed){var e,t;try{var s=n.next();e=s.value,t=s.done}catch(e){return void r.error(e)}t?r.complete():(r.next(e),this.schedule())}})))}))),s}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function I(e,t){return t?D(e,t):e instanceof g.a?e:new g.a(A(e))}var L=r(20);var j=r(25),T=r(24),q=r(1);function F(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new N(e,t))}}var N=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new P(e,this.project,this.thisArg))},e}(),P=function(e){function t(t,r,n){var s=e.call(this,t)||this;return s.project=r,s.count=0,s.thisArg=n||s,s}return o.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(q.a),O=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,r}return o.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(q.a),z=(q.a,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.a(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(q.a));q.a;function U(e,t){if(!t.closed){if(e instanceof g.a)return e.subscribe(t);var r;try{r=A(e)(t)}catch(e){t.error(e)}return r}}var R=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new M(e,this.project))},e}(),M=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.index=0,n}return o.a(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var r=new O(this),n=this.destination;n.add(r),this.innerSubscription=U(e,r),this.innerSubscription!==r&&n.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(z);var H=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new B(e,this.count,this.source))},e}(),B=function(e){function t(t,r,n){var s=e.call(this,t)||this;return s.count=r,s.source=n,s}return o.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e.prototype.error.call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(q.a);var V=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new W(e,this.selector,this.caught))},e}(),W=function(e){function t(t,r,n){var s=e.call(this,t)||this;return s.selector=r,s.caught=n,s}return o.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var n=new O(this);this.add(n);var s=U(r,n);s!==n&&this.add(s)}},t}(z);var G=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new Z(e),n=U(this.notifier,new O(r));return n&&!r.seenValue?(r.add(n),t.subscribe(r)):r},e}(),Z=function(e){function t(t){var r=e.call(this,t)||this;return r.seenValue=!1,r}return o.a(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(z);function J(){}var Y=r(12);var K=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new Q(e,this.nextOrObserver,this.error,this.complete))},e}(),Q=function(e){function t(t,r,n,s){var i=e.call(this,t)||this;return i._tapNext=J,i._tapError=J,i._tapComplete=J,i._tapError=n||J,i._tapComplete=s||J,Object(Y.a)(r)?(i._context=i,i._tapNext=r):r&&(i._context=r,i._tapNext=r.next||J,i._tapError=r.error||J,i._tapComplete=r.complete||J),i}return o.a(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(q.a);class X extends s.i{get[Symbol.toStringTag](){return"WikiService"}decorator(){const e=this;var t,r,n,i;this.exitSignal$=new a.a,this.pageURI$=new u(null),this.pulledJWPage$=this.pageURI$.pipe(Object(l.a)(e=>null!=e),function e(t,r){return"function"==typeof r?function(n){return n.pipe(e((function(e,n){return I(t(e,n)).pipe(F((function(t,s){return r(e,t,n,s)})))})))}:function(e){return e.lift(new R(t))}}(t=>{return console.log("ページデータ読込開始:",t),(i=()=>e.serviceInjection.models.readPage(t),new g.a((function(e){var t;try{t=i()}catch(t){return void e.error(t)}return(t?I(t):Object(L.a)()).subscribe(e)}))).pipe((void 0===(n=1)&&(n=-1),function(e){return e.lift(new H(n,e))}),(r=e=>{switch(e.message){case"Page:NotFound":return Object(j.a)(new s.e(t,"ページがありません。<br>編集ボタンで作成します<br>"+t,null));case"Page:PermissionError":return Object(j.a)(new s.e(t,"権限がありません.",null));default:return console.log("JW:UnknownError:",e),Object(T.a)(e)}},function(e){var t=new V(r),n=e.lift(t);return t.caught=n}));var r,n,i}),F(e=>{if(null==e)throw new Error("JW:UnknownError");return e}),(i=e.exitSignal$,function(e){return e.lift(new G(i))}),(t=e=>{},function(e){return e.lift(new K(t,r,n))})),this.serviceInjection={status:f.prototype,index:p.prototype,models:h.prototype}}resolveURI(e){const t=this.pageURI$.getValue();if(s.e.isAbsoluteURI(e))return e;{const r=t.split("/");return r[r.length-1]=e,r.join("/")}}}var ee=r(14),te=r.n(ee);class re extends s.c{decorator(){this.serviceInjection={status:f.prototype,models:h.prototype,wiki:X.prototype,index:p.prototype,uploader:m.prototype}}get decoration(){return{templateUrl:"./header.component.html",styleUrls:[],selector:"component-header"}}async onInit(){}async onStart(){this.renderer.html$.next({selector:"#header-site_name",value:""+te.a.JW_SITE_NAME,type:"html"});const e=e=>{this.renderer.html$.next({selector:"span#header-page_name",value:`<a data-page="${e}" class="ajaxLoad none_decoration">${e}</a>`,type:"html"})};this.serviceInjection.wiki.pulledJWPage$.pipe(Object(l.a)(e=>null!=e),F(e=>e.pageURI)).subscribe(e),this.serviceInjection.index.siteHistory$.pipe(Object(l.a)(e=>null!=e),F(e=>e.pageURI)).subscribe(e)}onLoad(){const e=this,t=this.serviceInjection.status._status,r=this.$;r((function(){r(e.element).on("click","#ajaxLoad_edit",(function(r){r.preventDefault();const n=t;n.load();const s=n.getPageURI();return e.serviceInjection.index.executeApp({appName:"Editor",pageURI:s}),!1})),r(e.element).on("click",".onclick_createPage",(function(r){r.preventDefault();const n=t;n.load();let s=n.getPageURI().split("/");const i=e.serviceInjection.status.getUser();return s[1]===i.id?s[s.length-1]="untitled":s=["",i.id,"untitled"],e.serviceInjection.index.executeApp({appName:"Editor",pageURI:s.join("/")}),!1})),r(e.element).on("click","a.ajaxLoad",(function(t){const n=r(t.target).data("page");return e.serviceInjection.index.executeApp({appName:"WikiApp",pageURI:n}),!1})),r(e.element).on("click","#ajaxLoad_upload",(function(t){return t.preventDefault(),e.serviceInjection.uploader.toggleUploader(),!1}))}))}}class ne extends s.c{decorator(){}get decoration(){return{selector:"component-footer",templateUrl:"./footer.component.html",styleUrls:[]}}async onInit(){}}const se=e=>function(t=s.c){const r={selector:"",template:"",templateUrl:null,styleUrls:[],styles:[],...e},n=t.prototype instanceof s.c?t:class extends t{};return Object.defineProperty(n.prototype,"decoration",{get:()=>r,enumerable:!0,configurable:!0}),n};var ie=r(26),oe=r.n(ie);const ae=new oe.a({breaks:!0}),ce=se({selector:"#app-wiki",templateUrl:"./wiki.component.html",styleUrls:[],styles:[]})();class ue extends ce{decorator(){this.renderer=new s.g(this.element,null),this.serviceInjection={status:f.prototype,models:h.prototype,wiki:X.prototype,index:p.prototype}}async onInit(){this.doneAjax=!0;(()=>{this.serviceInjection.wiki.pulledJWPage$.subscribe(e=>{console.log("page$-onNext",e),this.doneAjax=!0,/\.md$/.test(e.pageURI.toLowerCase())?this.drawByMarkdown(e.rawText):this.renderer.html$.next({value:e.rawText})},e=>{console.log("page$-onErr",e)},()=>console.log("page$-onComp"))})(),this.serviceInjection.wiki.pageURI$.subscribe(e=>{console.log("pageURI$-onNext",e),this.renderer.cls(),this.renderer.println("Start Loading..."),this.renderer.println("Downloading "+e+" .")})}async onRender(){this.serviceInjection.status._status.load(),this.renderer.cls()}async getPageHTML(e){let t;const r=this.serviceInjection.models;try{t=(await r.readPage(e)).rawText}catch(r){t="Page:NotFound"===r.message?"ページがありません。<br>新規作成<br>"+e:"通信エラーです。"+r.message}return t}async move(e=null){const t=this.serviceInjection.status._status,r=this.serviceInjection.wiki.resolveURI(e);t.setPageURI(r),t.save(),this.scroll2Top(),this.serviceInjection.index.executeApp({appName:"WikiApp",pageURI:r})}onLoad(){const e=this,t=this.$;this.serviceInjection.status._status;t((function(){t(e.element).on("click","a.ajaxLoad",(function(r){return r.preventDefault(),e.doneAjax&&(e.doneAjax=!1,(async()=>{const n=t(r.target).data("page");await e.move(n),e.doneAjax=!0})()),!1}))}))}scroll2Top(){this.$("html,body").animate({scrollTop:0},100,"swing")}drawByMarkdown(e){const t=ae.render(e);this.$element.html(t)}}var le=r(23),pe=new(r(22).a)(le.a);var he=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new de(e,this.dueTime,this.scheduler))},e}(),de=function(e){function t(t,r,n){var s=e.call(this,t)||this;return s.dueTime=r,s.scheduler=n,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return o.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(fe,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(q.a);function fe(e){e.debouncedNext()}var me=r(39);const ge=new oe.a({html:!0,breaks:!0});class be extends s.c{decorator(){this.serviceInjection={status:f.prototype,models:h.prototype,editor:i.prototype,index:p.prototype}}get decoration(){return{selector:"#app-editor",templateUrl:"./editor.component.html",styleUrls:["./editor.component.css"]}}async onInit(){const e=this;var t,r;this.doneAjax=!0,this._pageData=null,this.binds={get $pageName(){return e.$element.find("#ajax_edit__form__page-name")},get $submit(){return e.$element.find("#app_edit-submit")},get $cancel(){return e.$element.find("input.btn-cancel")},get $textarea(){return e.$element.find("#ajax_edit__textarea")},get $preview(){return e.$element.find("#ajax_edit__preview")},preview$:new u(null),get $form(){return e.$element.find("#ajax_edit")},get $pageDir(){return e.$element.find("#app-editor__dir_path")}},this.binds.preview$.pipe(Object(l.a)(e=>null!=e),(t=500,void 0===r&&(r=pe),function(e){return e.lift(new he(t,r))})).subscribe(t=>{let r=t;const n=this.binds.$textarea.get(0).selectionStart,s=(r.slice(0,n).match(/\n/g)||[]).length;r=r.split("\n").map((e,t)=>t!==s?e:e+" ").join("\n");const i=me.diffLines(this._pageData&&this._pageData.rawText||"",r);let o=0;r=i.map(e=>{if(e.removed)return"";const t=o<=s&&s<o+e.count;return o+=e.count||0,t?`<div class="app-editor__now_line">\n${e.value}\n</div>`:e.added?`<div class="app-editor__added_diff">\n${e.value}</div>`:e.value}).join("");const a=""+e.binds.$pageName.val();r=/\.md$/.test(a.toLowerCase())?ge.render(r):this.serviceInjection.editor.replaceSyntax(r),this.binds.$preview.html(r);const c=this.binds.$preview.find(".app-editor__now_line"),u=this.binds.$preview[0];if(0!==c.length){const e=c[0].getBoundingClientRect().top-u.getBoundingClientRect().top+u.scrollTop-100;this.binds.$preview.animate({scrollTop:e},300,"swing")}});this.serviceInjection.index.siteHistory$.pipe(Object(l.a)(t=>(e.forceClose(),t&&"Editor"===t.appName)),F(e=>e.pageURI)).subscribe(e=>{null!=e&&this.open(e)})}async onRender(){this.renderer.setHTML(await this.templateHTML)}async onLoad(){this.$;const e=this,t=e.binds;t.$textarea.on("keyup click",r=>{const n=""+t.$textarea.val();e.binds.preview$.next(n)}),t.$cancel.on("click",t=>(e.forceClose(),e.serviceInjection.index.executeApp({appName:"WikiApp",pageURI:this._pageData.pageURI}),!1)),t.$form.on("submit",r=>{r.preventDefault(),t.$submit.prop("disabled",!0),t.$textarea.prop("disabled",!0);const n=""+t.$textarea.val(),s=e._pageData;return s.pageURI=e.getURI2Directory(s.pageURI)+t.$pageName.val(),async function(){s.rawText=await e.serviceInjection.editor.checkBeforeSavingPage(n),e.serviceInjection.status.displayState$.next("保存中..."),await e.serviceInjection.editor.writePage(s),e.forceClose(),e.serviceInjection.index.executeApp({appName:"WikiApp",pageURI:s.pageURI})}(),!1}),t.$pageName.on("change",r=>{const n=e.binds.$pageDir.text()+t.$pageName.val();e._pageData.pageURI!==n?t.$pageName.css({"background-color":"orange"}):t.$pageName.css({"background-color":"white"})})}show(){this.$element.removeClass("app-editor--hide"),this.$element.addClass("app-editor--show")}hide(){this.$element.removeClass("app-editor--show"),this.$element.addClass("app-editor--hide")}async editingPage(e){const t=e,r=this.binds;return r.$pageName.val(this.getURI2Name(e.pageURI)),r.$pageDir.html(this.getURI2Directory(e.pageURI)),r.$textarea.val(e.rawText),this.binds.preview$.next(e.rawText),r.$submit.prop("disabled",!1),r.$textarea.prop("disabled",!1),t}async open(e){const t=this.serviceInjection.editor;return this.show(),this._pageData=await t.readPage(e),await this.editingPage(this._pageData).catch(e=>{if("Editor:Cancel"===e.text)return null;throw e}),!0}forceClose(){this.hide()}getURI2Name(e){return e.split("/").pop()}getURI2Directory(e){const t=e.split("/");return t[t.length-1]="",t.join("/")}}class _e extends s.c{decorator(){this.renderer=new s.g(this.element,"/site_/SideMenu"),this.serviceInjection={index:p.prototype}}get decoration(){return{templateUrl:null,styleUrls:[],selector:"#side-custom_menu"}}async onInit(){}onLoad(){const e=this,t=this.$;t((function(){t(e.element).on("click","a.ajaxLoad",r=>{const n=t(r.target).data("page");return e.serviceInjection.index.executeApp({appName:"WikiApp",pageURI:n}),!1})}))}}class ve extends s.c{decorator(){this.serviceInjection={status:f.prototype,models:h.prototype}}get decoration(){return{templateUrl:"../text/site_menu.txt",styleUrls:[],selector:"component-edited_history"}}async onInit(){this.status=this.serviceInjection.status}async onRender(){}onLoad(){}onStart(){this.serviceInjection.status.user$.pipe(Object(l.a)(e=>null!==e)).subscribe(e=>{this.serviceInjection.models.readPageHistory().then(e=>{const t=e.map(e=>`<div>${e.updateDate}<br><a data-page="${e.path}">${e.path}</a></div>`).join("\n");this.renderer.html$.next({selector:"",value:t})})})}}class ye extends s.c{decorator(){this.statusService,this.serviceInjection={status:f.prototype}}get decoration(){return{templateUrl:"./side_main.component.html",styleUrls:[],selector:"component-side_main"}}async onInit(){}async onRender(){await super.onRender(),this.$element.find("#side-site_notice").html("お知らせはありません。")}onStart(){this.serviceInjection.status.user$.pipe(Object(l.a)(e=>null!==e)).subscribe(e=>{this.renderer.html$.next({selector:"#user_id",value:e.id})})}}class we extends s.c{decorator(){this.html="",this.serviceInjection={status:f.prototype}}get decoration(){return{templateUrl:"../text/site_menu.txt",styleUrls:[],selector:"component-login_history"}}async onInit(){const e=this.serviceInjection.status.getCloud();this.html=await e.getLoginHistory().catch(e=>{if("JWCloud:Unauthorized"===e.message)return""})}async onRender(){this.renderer.setHTML(this.html)}}class xe extends s.c{decorator(){this.serviceInjection={status:f.prototype,models:h.prototype,wiki:X.prototype},this.json={}}get decoration(){return{selector:"#debug_window",templateUrl:"./debug_window.component.html",styleUrls:[]}}async onInit(){}onStart(){const e=this.serviceInjection;e.status.user$.subscribe(e=>{this.debug({user$:e})}),e.status.status$.subscribe(e=>{this.debug({"status$._status":e._status})}),e.wiki.pageURI$.subscribe(e=>{this.debug({pageURI$:e})}),e.status.displayState$.subscribe(e=>{this.renderer.html$.next({selector:"div.debug_info__now",type:"html",value:e})})}debug(e){const t=new Date,r=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();this.renderer.html$.next({selector:"div.debug_info__log",type:"prepend",value:r+">"+Object.keys(e).join(",")+"<br>"}),this.json={...this.json,...e};const n="<pre>"+JSON.stringify(this.json,null,4).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</pre>";this.renderer.html$.next({selector:"div.debug_info__main",type:"html",value:n})}}class ke extends(se({templateUrl:"./uploader.component.html",styleUrls:["./uploader.component.css"],selector:"#app-uploader"})()){decorator(){this.serviceInjection={status:f.prototype,uploader:m.prototype},this.isUploaderLoaded=!1,this.isOpen=!1}async onInit(){this.status=this.serviceInjection.status;const e=this.serviceInjection.uploader.event$.pipe(Object(l.a)(e=>null!=e));e.pipe(Object(l.a)(e=>"open"===e)).subscribe(e=>this.open()),e.pipe(Object(l.a)(e=>"close"===e)).subscribe(e=>this.close()),e.pipe(Object(l.a)(e=>"toggle"===e)).subscribe(e=>{this.isOpen?this.close():this.open()})}async onRender(){await super.onRender()}onLoad(){const e=this.$,t=this;e(t.$element).on("submit","#form_upload",(function(r){r.preventDefault();const n=e(r.target).find('input[type="file"]').get(0);return(async()=>{for(let e=0;e<n.files.length;e++){const r=n.files[e];let s="";if(s+="name:"+r.name+" ,size:"+r.size+"<br />",r.size>10485760){s+="error: ファイルが大きい.<br />";continue}const i=await t.uploadImage(r);if(i){s+="completed: uploaded file name is "+i+"<br />";const e=await t.status.getCloud().getFileLink(i);let r="";r+='<li class="uploaded_list">',r+=`<img class="uploaded_list" src="${e}" /><br />`,r+=`<input type="text" value="&image(${i})" readonly />`,r+="</li>",t.$element.find(".uploaded_images ul").prepend(r)}else s+="error: なんかダメ.<br />";t.$element.find(".uploaded_log").append(s)}})(),!1}))}show(){this.isUploaderLoaded||(this.isUploaderLoaded=!0,this.loadImages()),this.$element.removeClass("app-uploader--hide"),this.$element.addClass("app-uploader--show")}hide(){this.$element.removeClass("app-uploader--show"),this.$element.addClass("app-uploader--hide")}async open(){this.isOpen=!0,this.show()}async close(){this.isOpen=!1,this.hide()}async loadImages(){this.$element.find(".uploaded_images").html("読み込み中...");const e=this.status.getCloud(),t=this.status.getUser().id,r=await e.getFileNames(t+"_"),n=await Promise.all(r.map(t=>e.getFileLink(t)));let s='<ul class="uploaded_list">';for(let e=0;e<r.length;e++)s+='<li class="uploaded_list">',s+=`<img class="uploaded_list" src="${n[e]}" /><br />`,s+=`<input type="text" value="&image(${r[e]})" readonly />`,s+="</li>";s+="</ul>",this.$element.find(".uploaded_images").html(s)}async uploadImage(e){const t=this.status.getCloud(),r=e.name.toLowerCase().match(/\.(jpg|jpeg|png|bmp|gif|webp|apng)$/),n=this.status.getUser().id+"_"+Math.random().toString(36).substring(2)+(0!=r.length?r[0]:"");return!!e&&(console.log({filename:n,rawFile:e}),await t.postFile({filename:n,rawFile:e})?n:null)}}class Ce extends s.c{decorator(){this.serviceInjection={status:f.prototype}}get decoration(){return{templateUrl:"./app.component.html",styleUrls:["../styles/style.css"],selector:"#app-root"}}async onInit(){this.status=this.serviceInjection.status._status,this.cloud=this.serviceInjection.status.getCloud(),this.renderer.setHTML('<progress value="0.2"></progress><br>'),this.renderer.print("Initialize...")}async onRender(){const e=this.serviceInjection.status,t=(e,t)=>{this.renderer.print("OK<br>"+e+"..."),t||(t=parseFloat(""+this.$element.find("progress").val())+.1),this.$element.find("progress").val(""+t)};t("Authorize",.6);const r=await this.cloud.isLogin();null==r&&(location.href="./logout.html"),e.setUser(r),t("Get dynamic components list");const n=await this.getDynamicComponentPaths();t("Load dynamic components",.9),await this.loadDynamicComponents(n),t("Render",1),this.renderer.setHTML(await this.templateHTML)}onLoad(){const e=this.$;e((function(){e(document).on("click","#ajaxLoad_upload_",(function(t){return t.preventDefault(),e(t.target).blur(),e("#modal-overlay")[0]||(e("body").append('<div id="modal-overlay"></div>'),e("#modal-overlay").append('<div id="modal-content"></div>'),e("#modal-overlay").fadeIn("slow")),!1})),e(document).on("click","#modal-overlay_",(function(t){e(t.target).is("#modal-overlay")&&e("#modal-close,#modal-overlay").fadeOut("slow",(function(){e("#modal-overlay").remove()}))}))}))}async loadDynamicComponents(e){const t=this;window.requirejs.config({paths:e});const r=Promise.all(Object.keys(e).map(e=>new Promise((t,r)=>{window.requirejs([e],t,r)}).catch(e=>(console.log(e),null))));await r.then(e=>{e.forEach(e=>{e&&(t.refObj.declarations.push(e),s.c.classes$.next(e),console.log("loaded: "+e.name))})})}async getDynamicComponentPaths(){const e=this.serviceInjection.status.getCloud().ncmb.DataStore("Page").order("createDate",!0);return e._where={path:{$regex:"^/components/[-a-zA-Z0-9_]*\\.component$"}},await e.fetchAll().then((function(e){return e.reduce((e,t)=>{if(!t.text)return e;const r=window.URL.createObjectURL(new Blob([t.text],{type:"application/javascript"})),n=t.path.split("/");return e[n[n.length-1]]=r,e},{})}))}}class Ae{static get decoration(){return{declarations:[Ce,re,ne,ye,we,_e,ve,be,ue,ke,xe],services:Object.keys(n).map(e=>n[e]),bootstrap:[Ce]}}get decoration(){return this.constructor.decoration}}Ae.decoration.declarations.forEach(e=>{s.c.classes$.next(e)}),window.requirejs.config({paths:{jquery:"https://code.jquery.com/jquery-3.5.1.min",rxjs:"lib/rxjs.umd.min",jw:"lib/jw.min"},shim:{},config:{}}),console.log(JSON.stringify(window.requirejs.s.contexts._.config,null,"  ")),function(e){const t=new s.j,r=new s.d;e.decoration.services.forEach(e=>{const n=new e({componentsManager:r,serviceManager:t});t.register(n)}),e.decoration.bootstrap.forEach(n=>{const s=new n({serviceManager:t,declarations:e.decoration.declarations});r.register(s)})}(Ae)}]);